import{b as B,_ as S,a as T,H as N,M as j}from"./navegacion-1c7a0886.js";import{_ as v,o as i,c as l,a as o,r as _,t as m,b as k,w as c,v as A,d as F,l as f,k as u,n as D,F as q,e as O,h as x,i as g}from"./index-b210d838.js";import{e as d,a as h,_ as w,L as I}from"./carga_loader-95d35741.js";import{_ as G}from"./editar_venta-6e1798e9.js";import{_ as J}from"./icono_buscador-f58ee10c.js";const Y={},K={class:"w-[80%] rounded-md shadow-md shadow-[#29292942] ml-[10%] mt-[75vh] z-40 fixed h-[70px] bg-[#90E671]"},Q=o("span",{class:"text-white text-[1.5rem] mr-[10px]"},"Registrar proveedor",-1),W=[Q];function X(e,r){return i(),l("button",K,W)}const Z=v(Y,[["render",X]]),oo={props:["idProveedor"],methods:{abrir_eliminar_proveedor(){d.emit("abrir_modal_eliminar_proveedor",this.idProveedor)},abrir_editar_proveedor(){d.emit("abrir_editar_proveedor",this.idProveedor)},abrir_abono_deuda_proveedor(){d.emit("abrir_abono_deuda_proveedor",this.idProveedor)},abrir_historial_abonos_proveedor(){d.emit("abrir_historial_deuda_proveedor",this.idProveedor)}}},eo={class:"optiones_ventas overflow-hidden w-[140px] z-0 h-[160px] bg-[#f7f8ff] flex-none absolute rounded shadow-md shadow-[#00000031] -ml-[8%] mt-[40px]"},ro=o("button",null,[o("span",{class:"text-[1rem]"},"Abonar deuda")],-1),to=[ro],so=o("button",null,[o("span",{class:"text-[1rem]"},"Historial abonos")],-1),ao=[so],io=o("button",null,[o("span",{class:"text-[1rem]"},"Editar")],-1),no=[io],lo=o("button",null,[o("span",{class:"text-[1rem]"},"Eliminar")],-1),_o=[lo];function co(e,r,n,p,s,a){return i(),l("div",eo,[o("ul",null,[o("li",{onClick:r[0]||(r[0]=(...t)=>a.abrir_abono_deuda_proveedor&&a.abrir_abono_deuda_proveedor(...t)),class:"p-2 cursor-pointer border-b-[#DFDFDF] border-b-[2px]"},to),o("li",{onClick:r[1]||(r[1]=(...t)=>a.abrir_historial_abonos_proveedor&&a.abrir_historial_abonos_proveedor(...t)),class:"p-2 cursor-pointer border-b-[#DFDFDF] border-b-[2px]"},ao),o("li",{onClick:r[2]||(r[2]=(...t)=>a.abrir_editar_proveedor&&a.abrir_editar_proveedor(...t)),class:"border-b-[#DFDFDF] border-b-[2px] p-2 cursor-pointer"},no),o("li",{onClick:r[3]||(r[3]=(...t)=>a.abrir_eliminar_proveedor&&a.abrir_eliminar_proveedor(...t)),class:"p-2 cursor-pointer"},_o)])])}const R=v(oo,[["render",co]]),y="/assets/furgoneta-de-reparto-160be076.png",po={mounted(){d.on("cerrar-menu-optiones-proveedor",e=>{e!==this&&(this.estado_visibilidad_optiones=!1)}),document.addEventListener("click",this.closeMenuOnClickOutside)},beforeUnmount(){document.removeEventListener("click",this.closeMenuOnClickOutside)},props:["proveedor"],components:{"optiones-proveedor":R},data(){return{estado_visibilidad_optiones:!1}},methods:{abrir_optiones_proveedor(){this.estado_visibilidad_optiones=!this.estado_visibilidad_optiones,this.estado_visibilidad_optiones&&d.emit("cerrar-menu-optiones-proveedor",this)},closeMenuOnClickOutside(e){this.$refs.menu&&!this.$refs.menu.contains(e.target)&&(this.estado_visibilidad_optiones=!1)}}},bo={class:"inline-block mb-[20px] mr-[20px]"},uo={class:"flex-col flex text-center justify-center items-center bg-white p-2 w-[160px] h-[190px] shadow-md shadow-[#0000001f]"},vo=o("img",{class:"w-[80px] h-[80px] mb-[5px]",src:y,alt:"",srcset:""},null,-1),mo={class:"mb-[10px]"},ho={class:"text-[0.9rem]"},fo={class:"text-[#E55226]"};function xo(e,r,n,p,s,a){const t=_("optiones-proveedor");return i(),l("div",bo,[o("div",uo,[o("img",{onClick:r[0]||(r[0]=(...b)=>a.abrir_optiones_proveedor&&a.abrir_optiones_proveedor(...b)),class:"w-[35px] absolute ml-[33%] cursor-pointer -mt-[140px] h-[35px]",src:B,alt:"",srcset:""}),vo,o("h3",mo,m(n.proveedor.nombre_proveedor),1),o("h3",ho,[k("total deuda: "),o("span",fo,m(n.proveedor.deuda_a_proveedor),1)]),c(F(t,{idProveedor:n.proveedor.id_proveedores,ref:"menu"},null,8,["idProveedor"]),[[A,s.estado_visibilidad_optiones]])])])}const go=v(po,[["render",xo]]),Fo={data(){return{proveedor:{nombre:"",direccion:"",contacto:"",tipo_proveedor:"",description:"",deuda:""}}},methods:{cerrar_form_registro_proveedor(){d.emit("cerrar_form_registro_proveedor")},registrar_proveedor(){d.emit("abrir_loader_carga_vista_proveedor"),h.post("https://api-sistema-facturacion-c521f94ffcfb.herokuapp.com/registrar-proveedor",this.proveedor).then(e=>{console.log(e.data),f("Se registro el proveedor !",{autoClose:3e3,backgroundColor:"#90E671",color:"#ffffff",close:!1}),this.proveedor.nombre="",this.proveedor.contacto="",this.proveedor.description="",this.proveedor.deuda="",this.proveedor.direccion="",this.proveedor.tipo_proveedor=""}).catch(e=>{console.error(e),f("error al registras Proveedor  !",{autoClose:3e3,backgroundColor:"#CC0B09",close:!1,color:"#ffffff"})}).finally(()=>{d.emit("cerrar_loader_carga_vista_proveedor"),d.emit("cerrar_form_registro_proveedor"),d.emit("actualizar_vista_proveedores")})}}},wo={class:"w-full h-[100vh] bg-white fixed z-50"},$o={class:"w-full p-3 inline-flex border-b-[1.5px] border-b-[#DFDFDF]"},Eo=o("h2",{class:"text-[1.7rem] ml-[20px] order-2"},"Registrar proveedor",-1);function ko(e,r,n,p,s,a){return i(),l("section",wo,[o("header",$o,[o("img",{onClick:r[0]||(r[0]=(...t)=>a.cerrar_form_registro_proveedor&&a.cerrar_form_registro_proveedor(...t)),class:"w-[35px] mr-[25px] order-1 cursor-pointer",src:w}),Eo]),o("form",{onSubmit:r[8]||(r[8]=D((...t)=>a.registrar_proveedor&&a.registrar_proveedor(...t),["prevent"])),class:"w-full p-3 mt-[10px]"},[c(o("input",{"onUpdate:modelValue":r[1]||(r[1]=t=>s.proveedor.nombre=t),required:"",class:"w-[95%] focus:border-[#FFB984] focus:border-[1.5px] h-[55px] border-[1px] outline-none pl-[5px] box-border rounded-md mb-[20px] border-[#9F9F9F] ml-[2.5%]",type:"text",placeholder:"Nombre del proveedor"},null,512),[[u,s.proveedor.nombre]]),c(o("input",{"onUpdate:modelValue":r[2]||(r[2]=t=>s.proveedor.direccion=t),class:"w-[95%] h-[55px] focus:border-[#FFB984] focus:border-[1.5px] border-[1px] outline-none pl-[5px] box-border rounded-md mb-[20px] border-[#9F9F9F] ml-[2.5%]",type:"text",placeholder:"Direccion"},null,512),[[u,s.proveedor.direccion]]),c(o("input",{"onUpdate:modelValue":r[3]||(r[3]=t=>s.proveedor.contacto=t),class:"w-[95%] h-[55px] focus:border-[#FFB984] focus:border-[1.5px] border-[1px] outline-none pl-[5px] box-border rounded-md mb-[20px] border-[#9F9F9F] ml-[2.5%]",type:"tel",placeholder:"Contacto"},null,512),[[u,s.proveedor.contacto]]),c(o("input",{"onUpdate:modelValue":r[4]||(r[4]=t=>s.proveedor.tipo_proveedor=t),class:"w-[95%] h-[55px] focus:border-[#FFB984] focus:border-[1.5px] border-[1px] outline-none pl-[5px] box-border rounded-md mb-[20px] border-[#9F9F9F] ml-[2.5%]",type:"text",placeholder:"Tipo de proveedor"},null,512),[[u,s.proveedor.tipo_proveedor]]),c(o("input",{"onUpdate:modelValue":r[5]||(r[5]=t=>s.proveedor.description=t),required:"",class:"w-[95%] h-[80px] focus:border-[#FFB984] focus:border-[1.5px] border-[1px] outline-none pl-[5px] box-border rounded-md mb-[20px] border-[#9F9F9F] ml-[2.5%]",type:"text",placeholder:"Description"},null,512),[[u,s.proveedor.description]]),c(o("input",{"onUpdate:modelValue":r[6]||(r[6]=t=>s.proveedor.deuda=t),class:"w-[95%] h-[55px] focus:border-[#FFB984] focus:border-[1.5px] border-[1px] outline-none pl-[5px] box-border rounded-md mb-[20px] border-[#9F9F9F] ml-[2.5%]",type:"number",placeholder:"Deuda a proveedor"},null,512),[[u,s.proveedor.deuda]]),o("button",{onClick:r[7]||(r[7]=(...t)=>e.notify&&e.notify(...t)),type:"submit",class:"w-full h-[80px] mt-[5px] text-[1.5rem] bg-[#FFB984] text-white"}," Guardar ")],32)])}const Co=v(Fo,[["render",ko]]),Po={props:["idProveedor"],methods:{cerrar_eliminar_proveedor(){d.emit("cerrar_eliminar_proveedores")},eliminar_proveedor(){d.emit("abrir_loader_carga_vista_proveedor"),h.delete(`https://api-sistema-facturacion-c521f94ffcfb.herokuapp.com/eliminar-proveedor/${this.idProveedor}`).then(e=>{f.success("se elimino el proveedor!"),console.log(e)}).catch(e=>{f.error("error al eliminar el proveedor!"),console.error("Error al eliminar el proveedor",e)}).finally(()=>{d.emit("cerrar_loader_carga_vista_proveedor"),d.emit("cerrar_eliminar_proveedores"),d.emit("actualizar_vista_proveedores")})}}},Do={class:"w-full h-[100vh] bg-[#444d639c] fixed z-50"},yo={class:"w-[90%] ml-[5%] h-[300px] bg-white mt-[50%]"},Bo={class:"w-full p-3 inline-flex border-b-[1.5px] border-b-[#DFDFDF]"},Ao=o("h2",{class:"text-[1.7rem] ml-[10px] order-2"},"Eliminar proveedor",-1),qo={class:"p-3"},Oo=o("h3",{class:"text-center text-[#9F9F9F]"},"Esta seguro que desea eliminar este proveedor?",-1);function Ro(e,r,n,p,s,a){return i(),l("section",Do,[o("div",yo,[o("header",Bo,[o("img",{onClick:r[0]||(r[0]=(...t)=>a.cerrar_eliminar_proveedor&&a.cerrar_eliminar_proveedor(...t)),class:"w-[35px] mr-[25px] order-1 cursor-pointer",src:w}),Ao]),o("div",qo,[Oo,o("button",{onClick:r[1]||(r[1]=(...t)=>a.eliminar_proveedor&&a.eliminar_proveedor(...t)),class:"w-[90%] ml-[5%] mt-[50px] text-[1.2rem] h-[60px] rounded text-white bg-[#CC0B09]"},"Eliminar")])])])}const Vo=v(Po,[["render",Ro]]),zo={mounted(){this.buscar_proveedor()},props:["idProveedor"],data(){return{proveedorEncontrado:[],datos_registro_abono:{fecha_abono:"",id_proveedor:"",monto_abonado:"",comentario:"",nueva_deuda:0}}},methods:{cerrar_abono_proveedor(){d.emit("cerrar_abonar_deuda_proveedor")},buscar_proveedor(){d.emit("abrir_loader_carga_vista_proveedor"),h.get(`https://api-sistema-facturacion-c521f94ffcfb.herokuapp.com/buscar-proveedores/${this.idProveedor}`).then(e=>{this.proveedorEncontrado=e.data}).catch(e=>{console.log(e)}).finally(()=>{console.log(this.proveedorEncontrado),d.emit("cerrar_loader_carga_vista_proveedor")})},registrar_abono_proveedor(){this.proveedorEncontrado.deuda===""?alert("este proveedor no tiene deudas actualmente"):this.datos_registro_abono.monto_abonado>this.proveedorEncontrado.deuda_a_proveedor?alert("el monto es mayor a la deuda ingrese un monto menor o igual"):(d.emit("abrir_loader_carga_vista_proveedor"),this.datos_registro_abono.id_proveedor=this.idProveedor,this.datos_registro_abono.fecha_abono=this.convertir_formato_hora_actual(),this.datos_registro_abono.nueva_deuda=this.proveedorEncontrado.deuda_a_proveedor-this.datos_registro_abono.monto_abonado,h.post("https://api-sistema-facturacion-c521f94ffcfb.herokuapp.com/registrar-abono-proveedor",this.datos_registro_abono).then(e=>{console.log("Abono registrado con éxito",e.data),f.success("abono de deuda registrado !",{autoClose:3e3,backgroundColor:"#CC0B09",close:!1,color:"#ffffff"})}).catch(e=>{console.error("Error al registrar el abono",e),f.error("error al registrar el abono !",{autoClose:3e3,backgroundColor:"#CC0B09",close:!1,color:"#ffffff"})}).finally(()=>{d.emit("cerrar_loader_carga_vista_proveedor"),d.emit("cerrar_abonar_deuda_proveedor"),d.emit("actualizar_vista_proveedores")}))},convertir_formato_hora_actual(){const e=new Date,n=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"][e.getMonth()],p=e.getDate(),s=e.getFullYear(),a=e.getHours(),t=e.getMinutes(),b=a>=12?"pm":"am",E=a%12||12;return`${n} ${p} ${s} - ${E}:${t} ${b}`}}},Mo={class:"w-full h-[100vh] bg-[#444d639c] fixed z-50"},Uo={class:"w-full h-[510px] bg-white mt-[70%]"},Ho={class:"w-full p-3 inline-flex border-b-[1.5px] border-b-[#DFDFDF]"},Lo=o("h2",{class:"text-[1.7rem] ml-[30px] order-2"},"Registrar abono ",-1),So={class:"p-2"},To={class:"p-2 w-full h-[100px] justify-center items-center rounded flex shadow-md shadow-[#0000001f]"},No=o("img",{class:"order-1 w-[60px] h-[60px] mr-[30px]",src:y,alt:"",srcset:""},null,-1),jo={class:"order-2"},Io={class:"text-[#9F9F9F]"},Go={class:"text-[#E55226]"},Jo=o("button",{class:"w-[90%] ml-[5%] mt-[30px] text-[1.2rem] h-[60px] rounded text-white bg-[#FFB984]"},"Guardar abono",-1);function Yo(e,r,n,p,s,a){return i(),l("section",Mo,[o("div",Uo,[o("header",Ho,[o("img",{onClick:r[0]||(r[0]=(...t)=>a.cerrar_abono_proveedor&&a.cerrar_abono_proveedor(...t)),class:"w-[35px] mr-[25px] order-1 cursor-pointer",src:w}),Lo]),o("div",So,[o("div",To,[No,o("div",jo,[o("h3",null,m(s.proveedorEncontrado.nombre_proveedor),1),o("h3",Io,[k("Total de la deuda: "),o("span",Go,m(s.proveedorEncontrado.deuda_a_proveedor),1)])])]),o("form",{onSubmit:r[3]||(r[3]=D((...t)=>a.registrar_abono_proveedor&&a.registrar_abono_proveedor(...t),["prevent"]))},[c(o("input",{"onUpdate:modelValue":r[1]||(r[1]=t=>this.datos_registro_abono.monto_abonado=t),required:"",class:"w-[90%] ml-[5%] h-[70px] pl-2 mt-[30px] focus:border-[#FFB984] outline-none border-2 rounded",type:"number",placeholder:"Ingrese el monto abonado aqui...",name:"",id:""},null,512),[[u,this.datos_registro_abono.monto_abonado]]),c(o("input",{"onUpdate:modelValue":r[2]||(r[2]=t=>this.datos_registro_abono.comentario=t),class:"w-[90%] ml-[5%] h-[70px] pl-2 mt-[30px] focus:border-[#FFB984] outline-none border-2 rounded",type:"text",placeholder:"Ingrese un comentario",name:"",id:""},null,512),[[u,this.datos_registro_abono.comentario]]),Jo],32)])])])}const Ko=v(zo,[["render",Yo]]),Qo={mounted(){d.on("cerrar-menu-optiones-proveedor",e=>{e!==this&&(this.estado_visibilidad_optiones=!1)}),document.addEventListener("click",this.closeMenuOnClickOutside)},beforeUnmount(){document.removeEventListener("click",this.closeMenuOnClickOutside)},props:["proveedor"],components:{"optiones-proveedor":R},data(){return{estado_visibilidad_optiones:!1}},methods:{abrir_optiones_proveedor(){this.estado_visibilidad_optiones=!this.estado_visibilidad_optiones,this.estado_visibilidad_optiones&&d.emit("cerrar-menu-optiones-proveedor",this)},closeMenuOnClickOutside(e){this.$refs.menu&&!this.$refs.menu.contains(e.target)&&(this.estado_visibilidad_optiones=!1)}}},Wo={class:"inline-block mb-[20px] mr-[20px]"},Xo={class:"flex-col flex text-center justify-center items-center bg-white p-2 w-[160px] h-[190px] shadow-md shadow-[#0000001f]"},Zo=o("img",{class:"w-[80px] h-[80px] mb-[5px]",src:y,alt:"",srcset:""},null,-1),oe={class:"mb-[10px]"},ee={class:"text-[0.9rem]"},re={class:"text-[#E55226]"};function te(e,r,n,p,s,a){const t=_("optiones-proveedor");return i(),l("div",Wo,[o("div",Xo,[o("img",{onClick:r[0]||(r[0]=(...b)=>a.abrir_optiones_proveedor&&a.abrir_optiones_proveedor(...b)),class:"w-[35px] absolute ml-[65%] cursor-pointer -mt-[140px] h-[35px]",src:B,alt:"",srcset:""}),Zo,o("h3",oe,m(n.proveedor.nombre_proveedor),1),o("h3",ee,[k("total deuda: "),o("span",re,m(n.proveedor.deuda_a_proveedor),1)]),c(F(t,{idProveedor:n.proveedor.id_proveedores,ref:"menu"},null,8,["idProveedor"]),[[A,s.estado_visibilidad_optiones]])])])}const se=v(Qo,[["render",te]]),de={props:["datosBusquedaProveedor","termino_busqueda_proveedor"],components:{"card-proveedor":se},data(){return{}},methods:{cerrar_busquedad_proveedores(){d.emit("cerrar_busqueda_proveedores")}}},ae={class:"w-full h-[100vh] bg-[#444d639c] fixed z-50"},ie={class:"w-full h-[610px] bg-white mt-[45%]"},ne={class:"w-full p-3 inline-flex border-b-[1.5px] border-b-[#DFDFDF]"},le=o("h2",{class:"text-[1.7rem] ml-[5px] order-2"},"Resultado busqueda",-1),_e={class:"pt-3 w-full"},ce={class:"text-center"},pe={class:"text-[#9F9F9F]"},be={class:"p-2 mt-[40px] w-full pt-2 bg-[#eeeef1]"},ue=o("h3",{class:"text-[1.3rem]"},"Proveedor encontrados:",-1),ve={class:"w-full pt-3 h-[400px] overflow-hidden overflow-y-scroll"},me={key:0},he={key:1},fe=o("h3",{class:"text-[1.4rem] text-center"}," no se encontraron proveedores...",-1),xe=[fe];function ge(e,r,n,p,s,a){const t=_("card-proveedor");return i(),l("section",ae,[o("div",ie,[o("header",ne,[o("img",{onClick:r[0]||(r[0]=(...b)=>a.cerrar_busquedad_proveedores&&a.cerrar_busquedad_proveedores(...b)),class:"w-[35px] mr-[25px] order-1 cursor-pointer",src:w}),le]),o("div",_e,[o("h3",ce,[k("Termino buscado: "),o("span",pe,m(n.termino_busqueda_proveedor),1)]),o("div",be,[ue,o("div",ve,[n.datosBusquedaProveedor.length>0?(i(),l("div",me,[(i(!0),l(q,null,O(n.datosBusquedaProveedor,b=>(i(),l("div",{class:"inline-block relative",key:b.id_proveedores},[F(t,{proveedor:b},null,8,["proveedor"])]))),128))])):(i(),l("div",he,xe))])])])])])}const Fe=v(de,[["render",ge]]),we={props:["idProveedor"],mounted(){this.buscar_proveedor()},data(){return{proveedorEncontrado:[]}},methods:{cerrar_editar_proveedor(){d.emit("cerrar_editar_proveedor")},buscar_proveedor(){d.emit("abrir_loader_carga_vista_proveedor"),h.get(`https://api-sistema-facturacion-c521f94ffcfb.herokuapp.com/buscar-proveedores/${this.idProveedor}`).then(e=>{this.proveedorEncontrado=e.data}).catch(e=>{console.log(e)}).finally(()=>{d.emit("cerrar_loader_carga_vista_proveedor")})},editar_proveedor(){d.emit("abrir_loader_carga_vista_proveedor"),h.put(`https://api-sistema-facturacion-c521f94ffcfb.herokuapp.com/editar-proveedor/${this.idProveedor}`,{nombre:this.proveedorEncontrado.nombre_proveedor,direccion:this.proveedorEncontrado.direccion,contacto:this.proveedorEncontrado.contacto,tipo_proveedor:this.proveedorEncontrado.tipo_proveedor,description:this.proveedorEncontrado.description,deuda:this.proveedorEncontrado.deuda_a_proveedor}).then(e=>{console.log("Cliente editado con éxito",e),alert("se edito el proveedor con exito")}).catch(e=>{console.error("Error al editar el proveedor",e)}).finally(()=>{d.emit("cerrar_loader_carga_vista_proveedor"),d.emit("cerrar_editar_proveedor"),d.emit("actualizar_vista_proveedores")})}}},$e={class:"w-full h-[100vh] bg-white fixed z-50"},Ee={class:"w-full p-3 inline-flex border-b-[1.5px] border-b-[#DFDFDF]"},ke=o("h2",{class:"text-[1.7rem] ml-[40px] order-2"},"Editar proveedor",-1);function Ce(e,r,n,p,s,a){return i(),l("section",$e,[o("header",Ee,[o("img",{onClick:r[0]||(r[0]=(...t)=>a.cerrar_editar_proveedor&&a.cerrar_editar_proveedor(...t)),class:"w-[35px] mr-[25px] order-1 cursor-pointer",src:w}),ke]),o("form",{onSubmit:r[8]||(r[8]=D((...t)=>a.editar_proveedor&&a.editar_proveedor(...t),["prevent"])),class:"w-full p-3 mt-[10px]",action:""},[c(o("input",{"onUpdate:modelValue":r[1]||(r[1]=t=>s.proveedorEncontrado.nombre_proveedor=t),required:"",class:"w-[95%] focus:border-[#FFB984] focus:border-[1.5px] h-[55px] border-[1px] outline-none pl-[5px] box-border rounded-md mb-[20px] border-[#9F9F9F] ml-[2.5%]",type:"text",placeholder:"Nombre del cliente"},null,512),[[u,s.proveedorEncontrado.nombre_proveedor]]),c(o("input",{"onUpdate:modelValue":r[2]||(r[2]=t=>s.proveedorEncontrado.direccion=t),class:"w-[95%] h-[55px] focus:border-[#FFB984] focus:border-[1.5px] border-[1px] outline-none pl-[5px] box-border rounded-md mb-[20px] border-[#9F9F9F] ml-[2.5%]",type:"text",placeholder:"Direccion"},null,512),[[u,s.proveedorEncontrado.direccion]]),c(o("input",{"onUpdate:modelValue":r[3]||(r[3]=t=>s.proveedorEncontrado.contacto=t),class:"w-[95%] h-[55px] focus:border-[#FFB984] focus:border-[1.5px] border-[1px] outline-none pl-[5px] box-border rounded-md mb-[20px] border-[#9F9F9F] ml-[2.5%]",type:"text",placeholder:"Contacto"},null,512),[[u,s.proveedorEncontrado.contacto]]),c(o("input",{"onUpdate:modelValue":r[4]||(r[4]=t=>s.proveedorEncontrado.tipo_proveedor=t),class:"w-[95%] h-[55px] focus:border-[#FFB984] focus:border-[1.5px] border-[1px] outline-none pl-[5px] box-border rounded-md mb-[20px] border-[#9F9F9F] ml-[2.5%]",type:"text",placeholder:"Tipo de cliente"},null,512),[[u,s.proveedorEncontrado.tipo_proveedor]]),c(o("input",{"onUpdate:modelValue":r[5]||(r[5]=t=>s.proveedorEncontrado.description=t),required:"",class:"w-[95%] h-[80px] focus:border-[#FFB984] focus:border-[1.5px] border-[1px] outline-none pl-[5px] box-border rounded-md mb-[20px] border-[#9F9F9F] ml-[2.5%]",type:"text",placeholder:"Description"},null,512),[[u,s.proveedorEncontrado.description]]),c(o("input",{"onUpdate:modelValue":r[6]||(r[6]=t=>s.proveedorEncontrado.deuda_a_proveedor=t),class:"w-[95%] h-[55px] focus:border-[#FFB984] focus:border-[1.5px] border-[1px] outline-none pl-[5px] box-border rounded-md mb-[20px] border-[#9F9F9F] ml-[2.5%]",type:"text",placeholder:"Deuda"},null,512),[[u,s.proveedorEncontrado.deuda_a_proveedor]]),o("button",{onClick:r[7]||(r[7]=(...t)=>e.editar_cliente&&e.editar_cliente(...t)),class:"w-full h-[80px] mt-[5px] text-[1.5rem] bg-[#FFB984] text-white"}," Guardar ")],32)])}const Pe=v(we,[["render",Ce]]),De={props:["idRegistroAbono"],methods:{abrir_eliminar_abono_proveedor(){d.emit("abrir_eliminar_abono_proveedor",this.idRegistroAbono)},abrir_editar_abono_proveedor(){d.emit("abrir_editar_abono_proveedor",this.idRegistroAbono)},abrir_detalle_abono_proveedor(){d.emit("abrir_detalle_abono_proveedor",this.idRegistroAbono)}}},ye={class:"optiones_ventas overflow-hidden w-[140px] z-[2] h-[120px] bg-[#f7f8ff] flex-none absolute rounded shadow-md shadow-[#00000031] ml-[45%] mt-[20px]"},Be=o("button",null,[o("span",{class:"text-[1rem]"},"Ver mas"),o("img",{class:"w-[20px] ml-[70%] -mt-[23px] absolute",src:S})],-1),Ae=[Be],qe=o("button",null,[o("span",{class:"text-[1rem]"},"Editar"),o("img",{class:"w-[20px] ml-[70%] -mt-[23px] absolute",src:G})],-1),Oe=[qe],Re=o("button",{class:"outline-none"},[o("span",{class:"text-[1rem]"},"Anular"),o("img",{class:"w-[20px] absolute ml-[70%] -mt-[23px]",src:T})],-1),Ve=[Re];function ze(e,r,n,p,s,a){return i(),l("div",ye,[o("ul",null,[o("li",{onClick:r[0]||(r[0]=(...t)=>a.abrir_detalle_abono_proveedor&&a.abrir_detalle_abono_proveedor(...t)),class:"p-2 cursor-pointer border-b-[#DFDFDF] border-b-[2px]"},Ae),o("li",{onClick:r[1]||(r[1]=(...t)=>a.abrir_editar_abono_proveedor&&a.abrir_editar_abono_proveedor(...t)),class:"p-2 cursor-pointer border-b-[#DFDFDF] border-b-[2px]"},Oe),o("li",{onClick:r[2]||(r[2]=(...t)=>a.abrir_eliminar_abono_proveedor&&a.abrir_eliminar_abono_proveedor(...t)),class:"p-2 cursor-pointer border-b-[#DFDFDF] border-b-[2px]"},Ve)])])}const Me=v(De,[["render",ze]]),Ue={props:["abono"],mounted(){d.on("cerrar-menu-optiones-abono-proveedor",e=>{e!==this&&(this.visibilidadOptiones=!1)}),document.addEventListener("click",this.closeMenuOnClickOutside)},beforeUnmount(){document.removeEventListener("click",this.closeMenuOnClickOutside)},data(){return{visibilidadOptiones:!1,idRegistroAbono:this.abono.id_abono_deuda_a_proveedor}},components:{"opciones-historial":Me},methods:{abrir_y_cerrar_optiones_abonos(){this.visibilidadOptiones=!this.visibilidadOptiones,this.visibilidadOptiones&&d.emit("cerrar-menu-optiones-abono-proveedor",this)},closeMenuOnClickOutside(e){this.$refs.menu&&!this.$refs.menu.contains(e.target)&&(this.visibilidadOptiones=!1)}}},He={class:"w-full h-[80px] mb-[20px] relative rounted p-2 rounded flex shadow-md shadow-[#0000001f]"},Le={class:"order-1 flex-col text-center w-[180px] border-r-2 flex justify-center"},Se=o("h2",null,"Monto abonado",-1),Te={class:"text-[#FFB984] text-[0.9rem]"},Ne={class:"order-2 w-[180px] text-center flex-col flex justify-center"},je=o("h3",null,"Fecha del abono",-1),Ie={class:"text-[#FFB984] text-[0.9rem]"},Ge={class:"order-3 h-full w-[50px]"};function Je(e,r,n,p,s,a){const t=_("opciones-historial");return i(),l("div",He,[o("div",Le,[Se,o("span",Te,m(n.abono.monto_abonado),1)]),o("div",Ne,[je,o("span",Ie,m(n.abono.fecha_abono),1)]),o("button",Ge,[o("img",{onClick:r[0]||(r[0]=(...b)=>a.abrir_y_cerrar_optiones_abonos&&a.abrir_y_cerrar_optiones_abonos(...b)),class:"w-[40px] h-[40px]",src:B,alt:"",srcset:""})]),s.visibilidadOptiones?(i(),x(t,{key:0,idRegistroAbono:this.abono.id_abono_deuda_a_proveedor,ref:"menu"},null,8,["idRegistroAbono"])):g("",!0)])}const Ye=v(Ue,[["render",Je]]),Ke={mounted(){this.buscar_registro_abono()},props:["id_registro_operacion","proveedorEncontrado"],data(){return{datosRegistroAbono:[]}},methods:{cerrar_anular_abono_proveedor(){d.emit("cerrar_anular_abono_proveedor")},buscar_registro_abono(){d.emit("abrir_loader_carga_vista_proveedor"),h.get(`https://api-sistema-facturacion-c521f94ffcfb.herokuapp.com/abono-proveedor/${this.id_registro_operacion}`).then(e=>{this.datosRegistroAbono=e.data,console.log("registro obtenido")}).catch(e=>{console.error("Error al obtener el registro de abono por id",e)}).finally(()=>{d.emit("cerrar_loader_carga_vista_proveedor")})},async eliminar_abono_proveedor(){d.emit("abrir_loader_carga_vista_proveedor");const e=this.proveedorEncontrado.id_proveedores,r=this.proveedorEncontrado.deuda_a_proveedor+this.datosRegistroAbono.monto_abonado;try{const n=await h.delete(`https://api-sistema-facturacion-c521f94ffcfb.herokuapp.com/eliminar-abono-proveedor/${this.id_registro_operacion}`,{data:{idProveedor:e,nuevaDeuda:r}});f("registro de abono de deuda eliminado !",{autoClose:3e3,backgroundColor:"#CC0B09",close:!1,color:"#ffffff"}),console.log(n.data)}catch(n){f("error al eliminar el abono !",{autoClose:3e3,backgroundColor:"#CC0B09",close:!1,color:"#ffffff"}),console.error("Error al enviar la solicitud DELETE:",n)}finally{d.emit("cerrar_anular_abono_proveedor"),d.emit("cerrar_loader_carga_vista_proveedor"),d.emit("actualizar_historial_abonos_proveedores")}}}},Qe={class:"w-full h-[100vh] bg-[#444d639c] fixed z-50"},We={class:"w-[90%] ml-[5%] h-[300px] bg-white mt-[50%]"},Xe={class:"w-full p-3 inline-flex border-b-[1.5px] border-b-[#DFDFDF]"},Ze=o("h2",{class:"text-[1.7rem] ml-[20px] order-2"},"Anular abono",-1),or={class:"p-3"},er=o("h3",{class:"text-center text-[#9F9F9F]"},"Esta seguro que desea eliminar el registro de este abono de deuda?",-1);function rr(e,r,n,p,s,a){return i(),l("section",Qe,[o("div",We,[o("header",Xe,[o("img",{onClick:r[0]||(r[0]=(...t)=>a.cerrar_anular_abono_proveedor&&a.cerrar_anular_abono_proveedor(...t)),class:"w-[35px] mr-[25px] order-1 cursor-pointer",src:w}),Ze]),o("div",or,[er,o("button",{onClick:r[1]||(r[1]=(...t)=>a.eliminar_abono_proveedor&&a.eliminar_abono_proveedor(...t)),class:"w-[90%] ml-[5%] mt-[50px] text-[1.2rem] h-[60px] rounded text-white bg-[#CC0B09]"},"Eliminar")])])])}const tr=v(Ke,[["render",rr]]),sr={props:["id_registro_operacion"],mounted(){this.buscar_registro_abono()},data(){return{datosRegistroAbono:[]}},methods:{cerrar_detalle_abono_proveedor(){d.emit("cerrar_detalle_abono_proveedor")},buscar_registro_abono(){d.emit("abrir_loader_carga_vista_proveedor"),h.get(`https://api-sistema-facturacion-c521f94ffcfb.herokuapp.com/abono-proveedor/${this.id_registro_operacion}`).then(e=>{this.datosRegistroAbono=e.data,console.log("registro obtenido")}).catch(e=>{console.error("Error al obtener el registro de abono por id",e)}).finally(()=>{d.emit("cerrar_loader_carga_vista_proveedor")})}}},dr={class:"w-full h-[100vh] bg-[#444d639c] fixed z-50"},ar={class:"w-full h-[550px] bg-white mt-[60%]"},ir={class:"w-full p-3 inline-flex border-b-[1.5px] border-b-[#DFDFDF]"},nr=o("h2",{class:"text-[1.7rem] ml-[20px] order-2"},"Detalles del abono ",-1),lr={class:"p-2 mt-[30px]"},_r=o("h3",{class:"text-[1.3rem] mb-[10px]"},"Monto abonado",-1),cr={class:"text-[#9F9F9F]"},pr=o("br",null,null,-1),br=o("br",null,null,-1),ur=o("h3",{class:"text-[1.3rem] mb-[10px]"},"Fecha del abono",-1),vr={class:"text-[#9F9F9F]"},mr=o("br",null,null,-1),hr=o("br",null,null,-1),fr=o("h3",{class:"text-[1.3rem] mb-[10px]"},"Comentario",-1),xr={class:"text-[#9F9F9F]"};function gr(e,r,n,p,s,a){return i(),l("section",dr,[o("div",ar,[o("header",ir,[o("img",{onClick:r[0]||(r[0]=(...t)=>a.cerrar_detalle_abono_proveedor&&a.cerrar_detalle_abono_proveedor(...t)),class:"w-[35px] mr-[25px] order-1 cursor-pointer",src:w}),nr]),o("div",lr,[_r,o("span",cr,m(s.datosRegistroAbono.monto_abonado),1),pr,br,ur,o("span",vr,m(s.datosRegistroAbono.fecha_abono),1),mr,hr,fr,o("p",xr,m(s.datosRegistroAbono.comentario),1)])])])}const Fr=v(sr,[["render",gr]]),wr={mounted(){this.buscar_registro_abono()},props:["id_registro_operacion","proveedorEncontrado"],data(){return{datosRegistroAbono:[],montoOriginal:0,datosEditados:{nuevo_monto_abonado:"",comentario:"",deuda_nueva:"",id_proveedor:this.proveedorEncontrado.id_proveedores}}},methods:{cerrar_editar_abono(){d.emit("cerrar_editar_abono_proveedor")},buscar_registro_abono(){d.emit("abrir_loader_carga_vista_proveedor"),h.get(`https://api-sistema-facturacion-c521f94ffcfb.herokuapp.com/abono-proveedor/${this.id_registro_operacion}`).then(e=>{this.datosRegistroAbono=e.data,this.montoOriginal=this.datosRegistroAbono.monto_abonado,console.log("registro obtenido")}).catch(e=>{console.error("Error al obtener el registro de abono por id",e)}).finally(()=>{d.emit("cerrar_loader_carga_vista_proveedor")})},editar_registro_abono(){this.datosRegistroAbono.monto_abonado>this.proveedorEncontrado.deuda_a_proveedor?f.error("ingrese un monto igual o menor a la deuda actual !",{autoClose:3e3,backgroundColor:"#CC0B09",close:!1,color:"#ffffff"}):(d.emit("abrir_loader_carga_vista_proveedor"),this.datosEditados.nuevo_monto_abonado=this.datosRegistroAbono.monto_abonado,this.datosEditados.comentario=this.datosRegistroAbono.comentario,this.datosEditados.deuda_nueva=this.calcular_deuda(),h.put(`https://api-sistema-facturacion-c521f94ffcfb.herokuapp.com/editar-abono-proveedor/${this.id_registro_operacion}`,this.datosEditados).then(e=>{console.log(e),f.success("se edito el registro del abono de la deuda!",{autoClose:3e3,backgroundColor:"#CC0B09",close:!1,color:"#ffffff"})}).catch(e=>{console.log(e),f.error("error al editar el abono de la deuda !",{autoClose:3e3,backgroundColor:"#CC0B09",close:!1,color:"#ffffff"})}).finally(()=>{d.emit("cerrar_editar_abono_proveedor"),d.emit("cerrar_loader_carga_vista_proveedor"),d.emit("actualizar_historial_abonos_proveedores")}))},calcular_deuda(){let e=0;if(this.datosEditados.nuevo_monto_abonado>this.montoOriginal){const r=this.montoOriginal-this.datosRegistroAbono.monto_abonado;e=this.proveedorEncontrado.deuda_a_proveedor+r}else if(this.datosEditados.nuevo_monto_abonado<this.montoOriginal){const r=this.datosRegistroAbono.monto_abonado-this.montoOriginal;e=this.proveedorEncontrado.deuda_a_proveedor-r}else this.datosEditados.nuevo_monto_abonado==this.montoOriginal&&(e=this.proveedorEncontrado.deuda_a_proveedor);return e}}},$r={class:"w-full h-[100vh] bg-white fixed z-50"},Er=o("header",{class:"w-full p-3 inline-flex border-b-[1.5px] border-b-[#DFDFDF]"},[o("img",{class:"w-[35px] mr-[25px] order-1 cursor-pointer",src:w}),o("h2",{class:"text-[1.7rem] ml-[40px] order-2"},"Editar abono")],-1),kr=o("button",{class:"w-full h-[80px] mt-[5px] text-[1.5rem] bg-[#FFB984] text-white"}," Guardar cambios ",-1);function Cr(e,r,n,p,s,a){return i(),l("section",$r,[Er,o("form",{onSubmit:r[2]||(r[2]=D((...t)=>a.editar_registro_abono&&a.editar_registro_abono(...t),["prevent"])),class:"p-2 mt-[100px]"},[c(o("input",{id:"abono",required:"","onUpdate:modelValue":r[0]||(r[0]=t=>s.datosRegistroAbono.monto_abonado=t),class:"w-[95%] h-[55px] focus:border-[#FFB984] focus:border-[1.5px] border-[1px] outline-none pl-[5px] box-border rounded-md mb-[20px] border-[#9F9F9F] ml-[2.5%]",type:"number",placeholder:"Monto abonado"},null,512),[[u,s.datosRegistroAbono.monto_abonado]]),c(o("input",{"onUpdate:modelValue":r[1]||(r[1]=t=>s.datosRegistroAbono.comentario=t),class:"w-[95%] h-[100px] focus:border-[#FFB984] focus:border-[1.5px] border-[1px] outline-none pl-[5px] box-border rounded-md mb-[20px] border-[#9F9F9F] ml-[2.5%]",type:"text",placeholder:"Comentario"},null,512),[[u,s.datosRegistroAbono.comentario]]),kr],32)])}const Pr=v(wr,[["render",Cr]]),Dr={mounted(){d.on("abrir_editar_abono_proveedor",e=>{this.id_registro_operacion=e,this.estados.visibilidad_editar_abono_proveedor=!0}),d.on("cerrar_editar_abono_proveedor",()=>{this.estados.visibilidad_editar_abono_proveedor=!1}),d.on("cerrar_detalle_abono_proveedor",()=>{this.estados.visibilidad_detalles_abono_proveedor=!1}),d.on("abrir_detalle_abono_proveedor",e=>{this.id_registro_operacion=e,this.estados.visibilidad_detalles_abono_proveedor=!0}),d.on("abrir_eliminar_abono_proveedor",e=>{this.id_registro_operacion=e,this.estados.visibilidad_anular_abono_proveedor=!0}),d.on("cerrar_anular_abono_proveedor",()=>{this.estados.visibilidad_anular_abono_proveedor=!1}),d.on("actualizar_historial_abonos_proveedores",()=>{this.buscar_proveedor(),this.buscar_historial_abono_proveedor()}),this.buscar_proveedor(),this.buscar_historial_abono_proveedor()},props:["idProveedor"],components:{"card-historial-abono":Ye,"anular-abono":tr,"detalle-abono":Fr,"editar-abono":Pr},data(){return{proveedorEncontrado:[],historialAbonosProveedor:[],id_registro_operacion:"",estados:{visibilidad_anular_abono_proveedor:!1,visibilidad_detalles_abono_proveedor:!1,visibilidad_editar_abono_proveedor:!1}}},methods:{cerrar_historial_abono(){d.emit("cerrar_historial_abono_proveedor")},buscar_proveedor(){d.emit("abrir_loader_carga_vista_proveedor"),h.get(`https://api-sistema-facturacion-c521f94ffcfb.herokuapp.com/buscar-proveedores/${this.idProveedor}`).then(e=>{this.proveedorEncontrado=e.data}).catch(e=>{console.log(e)}).finally(()=>{d.emit("cerrar_loader_carga_vista_proveedor")})},buscar_historial_abono_proveedor(){d.emit("abrir_loader_carga_vista_proveedor"),h.get(`https://api-sistema-facturacion-c521f94ffcfb.herokuapp.com/abonos-por-proveedor/${this.idProveedor}`).then(e=>{this.historialAbonosProveedor=e.data,console.log(e.data)}).catch(e=>{console.error("Error al buscar el cliente",e),this.historialAbonosProveedor=[]}).finally(()=>{d.emit("cerrar_loader_carga_vista_proveedor")})}}},yr={class:"w-full h-[100vh] bg-white fixed z-50"},Br={class:"w-full p-3 inline-flex border-b-[1.5px] border-b-[#DFDFDF]"},Ar=o("h2",{class:"text-[1.7rem] ml-[15px] order-2"},"Historial de abonos ",-1),qr={class:"p-2 pt-[20px]"},Or=o("h3",{class:"text-[1.3rem] mb-[10px]"},"Proveedor",-1),Rr={class:"p-2 w-full h-[100px] justify-center items-center rounded flex shadow-md shadow-[#0000001f]"},Vr=o("img",{class:"order-1 w-[60px] h-[60px] mr-[30px]",src:y,alt:"",srcset:""},null,-1),zr={class:"order-2"},Mr={class:"text-[#9F9F9F]"},Ur={class:"text-[#E55226]"},Hr={class:"p-2"},Lr=o("h3",{class:"text-[1.3rem] mb-[10px]"},"Historial de abonos",-1),Sr={class:"w-full h-[450px] pb-[40px] p-1 overflow-hidden overflow-y-scroll"},Tr={key:0},Nr={key:1},jr=o("h3",{class:"text-[1.1rem] text-center"}," no se encontraron registros de abono...",-1),Ir=[jr];function Gr(e,r,n,p,s,a){const t=_("anular-abono"),b=_("editar-abono"),E=_("detalle-abono"),C=_("card-historial-abono");return i(),l("section",yr,[s.estados.visibilidad_anular_abono_proveedor?(i(),x(t,{key:0,id_registro_operacion:s.id_registro_operacion,proveedorEncontrado:s.proveedorEncontrado},null,8,["id_registro_operacion","proveedorEncontrado"])):g("",!0),s.estados.visibilidad_editar_abono_proveedor?(i(),x(b,{key:1,proveedorEncontrado:s.proveedorEncontrado,id_registro_operacion:s.id_registro_operacion},null,8,["proveedorEncontrado","id_registro_operacion"])):g("",!0),s.estados.visibilidad_detalles_abono_proveedor?(i(),x(E,{key:2,id_registro_operacion:s.id_registro_operacion},null,8,["id_registro_operacion"])):g("",!0),o("header",Br,[o("img",{onClick:r[0]||(r[0]=(...$)=>a.cerrar_historial_abono&&a.cerrar_historial_abono(...$)),class:"w-[35px] mr-[25px] order-1 cursor-pointer",src:w}),Ar]),o("div",qr,[Or,o("div",Rr,[Vr,o("div",zr,[o("h3",null,m(s.proveedorEncontrado.nombre_proveedor),1),o("h3",Mr,[k("Total de la deuda: "),o("span",Ur,m(s.proveedorEncontrado.deuda_a_proveedor),1)])])])]),o("div",Hr,[Lr,o("div",Sr,[s.historialAbonosProveedor.length>0?(i(),l("div",Tr,[(i(!0),l(q,null,O(s.historialAbonosProveedor,$=>(i(),l("div",{key:$.id_abono_deuda_del_cliente},[F(C,{abono:$},null,8,["abono"])]))),128))])):(i(),l("div",Nr,Ir))])])])}const Jr=v(Dr,[["render",Gr]]),Yr={mounted(){this.$socket.on("actualizacion_registro_proveedores",()=>{f.success("actualizando el registro luego de modificacion!"),this.obtener_proveedores()}),d.on("abrir_editar_proveedor",e=>{this.idProveedor=e,this.estados.visibilidad_editar_proveedores=!0}),d.on("cerrar_editar_proveedor",()=>{this.estados.visibilidad_editar_proveedores=!1}),d.on("abrir_historial_deuda_proveedor",e=>{this.idProveedor=e,this.estados.visibilidad_historial_abono_proveedor=!0}),d.on("cerrar_historial_abono_proveedor",()=>{this.obtener_proveedores(),this.estados.visibilidad_historial_abono_proveedor=!1}),d.on("cerrar_busqueda_proveedores",()=>{this.estados.visibilidad_result_busqueda_proveedores=!1}),d.on("abrir_abono_deuda_proveedor",e=>{this.idProveedor=e,this.estados.visibilidad_abono_deuda_proveedor=!0}),d.on("cerrar_abonar_deuda_proveedor",()=>{this.estados.visibilidad_abono_deuda_proveedor=!1}),this.obtener_proveedores(),d.on("actualizar_vista_proveedores",()=>{this.obtener_proveedores()}),d.on("abrir_modal_eliminar_proveedor",e=>{this.idProveedor=e,this.estados.visibilidad_eliminar_proveedor=!0}),d.on("cerrar_eliminar_proveedores",()=>{this.estados.visibilidad_eliminar_proveedor=!1}),d.on("abrir_loader_carga_vista_proveedor",()=>{this.estados.visibilidad_carga_loader_proveedor=!0}),d.on("cerrar_loader_carga_vista_proveedor",()=>{this.estados.visibilidad_carga_loader_proveedor=!1}),d.on("cerrar_form_registro_proveedor",()=>{this.estados.visibilidad_form_registro_proveedor=!1})},components:{"menu-header":N,"crear-proveedor":Z,"menu-footer":j,"card-proveedor":go,"form-registro-proveedor":Co,"carga-loader":I,"eliminar-proveedor":Vo,"abonar-deuda":Ko,result_busqueda_proveedor:Fe,"historial-abono-proveedor":Jr,"editar-proveedor":Pe},data(){return{title:"Proveedores",DatosProveedores:[],idProveedor:"",deudasPorPagar:0,termino_busqueda_proveedor:"",datosBusquedaProveedor:[],estados:{visibilidad_form_registro_proveedor:!1,visibilidad_carga_loader_proveedor:!1,visibilidad_eliminar_proveedor:!1,visibilidad_abono_deuda_proveedor:!1,visibilidad_result_busqueda_proveedores:!1,visibilidad_historial_abono_proveedor:!1,visibilidad_editar_proveedores:!1}}},methods:{abrir_form_registro_proveedor(){this.estados.visibilidad_form_registro_proveedor=!0},buscar_proveedor(){const e=document.getElementById("buscar_proveedor");e.value==""?f.warn("ingrese los datos del proveedor a buscar!"):(this.estados.visibilidad_carga_loader_proveedor=!0,h.get("https://api-sistema-facturacion-c521f94ffcfb.herokuapp.com/buscar-proveedor-por-nombre",{params:{nombre:e.value}}).then(r=>{this.datosBusquedaProveedor=r.data,this.termino_busqueda_proveedor=e.value,this.estados.visibilidad_result_busqueda_proveedores=!0,e.value=""}).catch(r=>{f.error("ocurrio un error al buscar el proveedor!"),console.error("Error al buscar proveedor",r)}).finally(()=>{this.estados.visibilidad_carga_loader_proveedor=!1}))},obtener_proveedores(){this.estados.visibilidad_carga_loader_proveedor=!0,h.get("https://api-sistema-facturacion-c521f94ffcfb.herokuapp.com/obtener-proveedores").then(e=>{let r=e.data;this.DatosProveedores=r}).catch(e=>{console.error("Error al obtener la lista de proveedores",e)}).finally(()=>{this.sumarDeuda(this.DatosProveedores),d.emit("cerrar_loader_carga_vista_proveedor")})},sumarDeuda(e){let r=0;e.forEach(n=>{r+=n.deuda_a_proveedor}),this.deudasPorPagar=r}}},Kr={class:"w-full h-[100%] bg-[#FEFEE5]"},Qr={class:"p-3 w-[95%] ml-[2.5%] h-[80px] rounded shadow-md shadow-[#00000031] mb-[20px] bg-[#FFB984]"},Wr=o("span",{class:"text-[#F9F9F9]"},"Total por pagar",-1),Xr={class:"text-[1.6rem] text-white font-bold"},Zr=o("img",{src:""},null,-1),ot={class:"p-3 w-full"},et=o("input",{id:"buscar_proveedor",class:"w-[100%] h-[60px] rounded outline-0 pl-2 shadow-md shadow-[#0000001f] placeholder:text-[0.8rem] placeholder:italic",type:"text",placeholder:"Buscar proveedor por nombre..."},null,-1),rt={class:"w-full p-2"},tt=o("h2",{class:"text-[2rem] mt-[10px] mb-[30px]"},"Proveedores",-1),st={class:"w-full pl-[5px] p-2 pb-[200px] inline-block"},dt={key:0},at={key:1},it=o("h3",{class:"text-[1.4rem] text-center"}," no se encontraron proveedores...",-1),nt=[it];function lt(e,r,n,p,s,a){const t=_("menu-footer"),b=_("carga-loader"),E=_("abonar-deuda"),C=_("historial-abono-proveedor"),$=_("editar-proveedor"),V=_("eliminar-proveedor"),z=_("result_busqueda_proveedor"),M=_("form-registro-proveedor"),U=_("crear-proveedor"),H=_("menu-header"),L=_("card-proveedor");return i(),l("section",Kr,[F(t),s.estados.visibilidad_carga_loader_proveedor?(i(),x(b,{key:0})):g("",!0),s.estados.visibilidad_abono_deuda_proveedor?(i(),x(E,{key:1,idProveedor:s.idProveedor},null,8,["idProveedor"])):g("",!0),s.estados.visibilidad_historial_abono_proveedor?(i(),x(C,{key:2,idProveedor:s.idProveedor},null,8,["idProveedor"])):g("",!0),s.estados.visibilidad_editar_proveedores?(i(),x($,{key:3,idProveedor:s.idProveedor},null,8,["idProveedor"])):g("",!0),s.estados.visibilidad_eliminar_proveedor?(i(),x(V,{key:4,idProveedor:s.idProveedor},null,8,["idProveedor"])):g("",!0),s.estados.visibilidad_result_busqueda_proveedores?(i(),x(z,{key:5,termino_busqueda_proveedor:s.termino_busqueda_proveedor,datosBusquedaProveedor:s.datosBusquedaProveedor},null,8,["termino_busqueda_proveedor","datosBusquedaProveedor"])):g("",!0),c(F(M,null,null,512),[[A,s.estados.visibilidad_form_registro_proveedor]]),F(U,{onClick:a.abrir_form_registro_proveedor},null,8,["onClick"]),F(H,{nameSession:s.title},null,8,["nameSession"]),o("div",Qr,[Wr,o("h3",Xr,m(s.deudasPorPagar),1),Zr]),o("div",ot,[et,o("img",{onClick:r[0]||(r[0]=(...P)=>a.buscar_proveedor&&a.buscar_proveedor(...P)),class:"w-[40px] -mt-[50px] cursor-pointer border-l-[2px] border-[#DFDFDF] ml-[80%] absolute",src:J})]),o("article",rt,[tt,o("div",st,[s.DatosProveedores.length>0?(i(),l("div",dt,[(i(!0),l(q,null,O(s.DatosProveedores,P=>(i(),l("div",{class:"inline-block",key:P.id_proveedores},[F(L,{proveedor:P},null,8,["proveedor"])]))),128))])):(i(),l("div",at,nt))])])])}const vt=v(Yr,[["render",lt]]);export{vt as default};
