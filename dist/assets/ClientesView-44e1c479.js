import{b as q,_ as L,a as S,H as P,M as I}from"./navegacion-8f4cbcb9.js";import{_ as N}from"./agregar-7aa2bc65.js";import{_ as m,o as s,c as _,a as e,r as b,t as x,b as y,w as d,v as D,d as g,l as f,k as p,n as A,F as B,e as O,h as v,i as C,m as G,T as Y}from"./index-149373d7.js";import{e as r,a as u,_ as F,L as J}from"./carga_loader-af069024.js";import{_ as R}from"./tienda-fab6ba92.js";import{_ as K}from"./editar_venta-6e1798e9.js";import{_ as Q}from"./icono_buscador-f58ee10c.js";const W={},X={class:"w-[80%] rounded-md shadow-md shadow-[#29292942] ml-[10%] mt-[75vh] z-40 fixed h-[70px] bg-[#90E671]"},Z=e("span",{class:"text-white text-[1.7rem] mr-[10px]"},"Registrar cliente",-1),ee=e("img",{class:"w-[40px] absolute ml-[80%] -mt-[40px]",src:N},null,-1),oe=[Z,ee];function te(o,t){return s(),_("button",X,oe)}const ie=m(W,[["render",te]]),re={props:["cliente"],data(){return{idCliente:this.cliente.id_cliente}},methods:{abrir_eliminar_cliente(){r.emit("abrir_modal_eliminar_cliente",this.idCliente)},abrir_editar_cliente(){r.emit("abrir_modal_editar_cliente",this.idCliente)},abrir_abono_deuda_cliente(){r.emit("abrir_modal_abono_deuda_cliente",this.idCliente)},abrir_historial_abonos(){r.emit("abrir_modal_historial_deuda_cliente",this.idCliente)}}},ne={class:"optiones_ventas overflow-hidden w-[140px] z-0 h-[160px] bg-[#f7f8ff] flex-none absolute rounded shadow-md shadow-[#00000031] -ml-[8%] mt-[40px]"},ae=e("button",null,[e("span",{class:"text-[1rem]"},"Abonar deuda")],-1),se=[ae],le=e("button",null,[e("span",{class:"text-[1rem]"},"Historial abonos")],-1),ce=[le],de=e("button",null,[e("span",{class:"text-[1rem]"},"Editar")],-1),_e=[de],be=e("button",null,[e("span",{class:"text-[1rem]"},"Eliminar")],-1),ue=[be];function pe(o,t,l,c,n,a){return s(),_("div",ne,[e("ul",null,[e("li",{onClick:t[0]||(t[0]=(...i)=>a.abrir_abono_deuda_cliente&&a.abrir_abono_deuda_cliente(...i)),class:"p-2 cursor-pointer border-b-[#DFDFDF] border-b-[2px]"},se),e("li",{onClick:t[1]||(t[1]=(...i)=>a.abrir_historial_abonos&&a.abrir_historial_abonos(...i)),class:"p-2 cursor-pointer border-b-[#DFDFDF] border-b-[2px]"},ce),e("li",{onClick:t[2]||(t[2]=(...i)=>a.abrir_editar_cliente&&a.abrir_editar_cliente(...i)),class:"border-b-[#DFDFDF] border-b-[2px] p-2 cursor-pointer"},_e),e("li",{onClick:t[3]||(t[3]=(...i)=>a.abrir_eliminar_cliente&&a.abrir_eliminar_cliente(...i)),class:"p-2 cursor-pointer"},ue)])])}const me=m(re,[["render",pe]]),he={mounted(){r.on("cerrar-menu-optiones-clientes",o=>{o!==this&&(this.estado_visibilidad_optiones=!1)}),document.addEventListener("click",this.closeMenuOnClickOutside)},beforeUnmount(){document.removeEventListener("click",this.closeMenuOnClickOutside)},props:["cliente"],components:{"optiones-clients":me},data(){return{estado_visibilidad_optiones:!1}},methods:{abrir_optiones_clientes(){this.estado_visibilidad_optiones=!this.estado_visibilidad_optiones,this.estado_visibilidad_optiones&&r.emit("cerrar-menu-optiones-clientes",this)},closeMenuOnClickOutside(o){this.$refs.menu&&!this.$refs.menu.contains(o.target)&&(this.estado_visibilidad_optiones=!1)}}},fe={class:"inline-block mb-[20px] mr-[20px]"},xe={class:"flex-col flex text-center justify-center items-center bg-white p-2 w-[160px] h-[190px] shadow-md shadow-[#0000001f]"},ge=e("img",{class:"w-[80px] h-[80px] mb-[5px]",src:R,alt:"",srcset:""},null,-1),ve={class:"mb-[10px]"},Fe={class:"text-[0.9rem]"},Ce={class:"text-[#E55226]"};function we(o,t,l,c,n,a){const i=b("optiones-clients");return s(),_("div",fe,[e("div",xe,[e("img",{onClick:t[0]||(t[0]=(...h)=>a.abrir_optiones_clientes&&a.abrir_optiones_clientes(...h)),class:"w-[35px] absolute ml-[33%] cursor-pointer -mt-[130px] h-[35px]",src:q,alt:"",srcset:""}),ge,e("h3",ve,x(l.cliente.nombre_cliente),1),e("h3",Fe,[y("total deuda: "),e("span",Ce,x(l.cliente.deuda),1)]),d(g(i,{cliente:l.cliente,ref:"menu"},null,8,["cliente"]),[[D,n.estado_visibilidad_optiones]])])])}const z=m(he,[["render",we]]),Ee={props:["id_cliente_operacione"],data(){return{}},methods:{cerrar_eliminar_cliente(){r.emit("cerrar_eliminar_cliente")},eliminar_cliente(){r.emit("abrir_loader_carga_vista_cliente"),u.delete(`https://api-sistema-facturacion-c521f94ffcfb.herokuapp.com/eliminar-cliente/${this.id_cliente_operacione}`).then(o=>{f.success("se elimino el cliente!",{autoClose:3e3,backgroundColor:"#CC0B09",close:!1,color:"#ffffff"}),r.emit("cerrar_eliminar_cliente"),r.emit("actualizar_objetos_cliente_vista_cliente")}).catch(o=>{f.error("error al eliminar el cliente!",{autoClose:3e3,backgroundColor:"#CC0B09",close:!1,color:"#ffffff"}),console.error("Error al eliminar el cliente",o)}).finally(()=>{r.emit("cerrar_loader_carga_vista_cliente")})}}},$e={class:"w-full h-[100vh] bg-[#444d639c] fixed z-50"},ke={class:"w-[90%] ml-[5%] h-[300px] bg-white mt-[50%]"},De={class:"w-full p-3 inline-flex border-b-[1.5px] border-b-[#DFDFDF]"},ye=e("h2",{class:"text-[1.7rem] ml-[20px] order-2"},"Eliminar cliente",-1),Ae={class:"p-3"},Be=e("h3",{class:"text-center text-[#9F9F9F]"},"Esta seguro que desea eliminar el registro de este cliente?",-1);function Oe(o,t,l,c,n,a){return s(),_("section",$e,[e("div",ke,[e("header",De,[e("img",{onClick:t[0]||(t[0]=(...i)=>a.cerrar_eliminar_cliente&&a.cerrar_eliminar_cliente(...i)),class:"w-[35px] mr-[25px] order-1 cursor-pointer",src:F}),ye]),e("div",Ae,[Be,e("button",{onClick:t[1]||(t[1]=(...i)=>a.eliminar_cliente&&a.eliminar_cliente(...i)),class:"w-[90%] ml-[5%] mt-[50px] text-[1.2rem] h-[60px] rounded text-white bg-[#CC0B09]"},"Eliminar")])])])}const Re=m(Ee,[["render",Oe]]),qe={props:["id_cliente_operacione"],mounted(){this.buscar_cliente_id()},data(){return{clienteEncontrado:[]}},methods:{cerrar_editar_cliente(){r.emit("cerrar_modal_editar_cliente")},buscar_cliente_id(){r.emit("abrir_loader_carga_vista_cliente"),u.get(`https://api-sistema-facturacion-c521f94ffcfb.herokuapp.com/buscar-cliente/${this.id_cliente_operacione}`).then(o=>{this.clienteEncontrado=o.data}).catch(o=>{console.error("Error al buscar el cliente",o),this.clienteEncontrado=[]}).finally(()=>{r.emit("cerrar_loader_carga_vista_cliente")})},editar_cliente(){r.emit("abrir_loader_carga_vista_cliente"),u.put(`https://api-sistema-facturacion-c521f94ffcfb.herokuapp.com/editar-cliente/${this.id_cliente_operacione}`,{nombre:this.clienteEncontrado.nombre_cliente,direccion:this.clienteEncontrado.direccion,contacto:this.clienteEncontrado.contacto,tipo_cliente:this.clienteEncontrado.tipo_cliente,description:this.clienteEncontrado.description,deuda:this.clienteEncontrado.deuda}).then(o=>{console.log("Cliente editado con Ã©xito"),f.success("se edito con exito el cliente!",{autoClose:3e3,backgroundColor:"#CC0B09",close:!1,color:"#ffffff"}),r.emit("cerrar_loader_carga_vista_cliente"),r.emit("actualizar_objetos_cliente_vista_cliente"),r.emit("cerrar_modal_editar_cliente")}).catch(o=>{f.error("error al editar el cliente!",{autoClose:3e3,backgroundColor:"#CC0B09",close:!1,color:"#ffffff"}),console.error("Error al editar el cliente",o)})}}},ze={class:"w-full h-[100vh] bg-white fixed z-50"},Ve={class:"w-full p-3 inline-flex border-b-[1.5px] border-b-[#DFDFDF]"},Ue=e("h2",{class:"text-[1.7rem] ml-[40px] order-2"},"Editar cliente",-1);function Me(o,t,l,c,n,a){return s(),_("section",ze,[e("header",Ve,[e("img",{onClick:t[0]||(t[0]=(...i)=>a.cerrar_editar_cliente&&a.cerrar_editar_cliente(...i)),class:"w-[35px] mr-[25px] order-1 cursor-pointer",src:F}),Ue]),e("form",{onSubmit:t[8]||(t[8]=A((...i)=>a.editar_cliente&&a.editar_cliente(...i),["prevent"])),class:"w-full p-3 mt-[10px]",action:""},[d(e("input",{"onUpdate:modelValue":t[1]||(t[1]=i=>n.clienteEncontrado.nombre_cliente=i),required:"",class:"w-[95%] focus:border-[#FFB984] focus:border-[1.5px] h-[55px] border-[1px] outline-none pl-[5px] box-border rounded-md mb-[20px] border-[#9F9F9F] ml-[2.5%]",type:"text",placeholder:"Nombre del cliente"},null,512),[[p,n.clienteEncontrado.nombre_cliente]]),d(e("input",{"onUpdate:modelValue":t[2]||(t[2]=i=>n.clienteEncontrado.direccion=i),class:"w-[95%] h-[55px] focus:border-[#FFB984] focus:border-[1.5px] border-[1px] outline-none pl-[5px] box-border rounded-md mb-[20px] border-[#9F9F9F] ml-[2.5%]",type:"text",placeholder:"Direccion"},null,512),[[p,n.clienteEncontrado.direccion]]),d(e("input",{"onUpdate:modelValue":t[3]||(t[3]=i=>n.clienteEncontrado.contacto=i),class:"w-[95%] h-[55px] focus:border-[#FFB984] focus:border-[1.5px] border-[1px] outline-none pl-[5px] box-border rounded-md mb-[20px] border-[#9F9F9F] ml-[2.5%]",type:"text",placeholder:"Contacto"},null,512),[[p,n.clienteEncontrado.contacto]]),d(e("input",{"onUpdate:modelValue":t[4]||(t[4]=i=>n.clienteEncontrado.tipo_cliente=i),class:"w-[95%] h-[55px] focus:border-[#FFB984] focus:border-[1.5px] border-[1px] outline-none pl-[5px] box-border rounded-md mb-[20px] border-[#9F9F9F] ml-[2.5%]",type:"text",placeholder:"Tipo de cliente"},null,512),[[p,n.clienteEncontrado.tipo_cliente]]),d(e("input",{"onUpdate:modelValue":t[5]||(t[5]=i=>n.clienteEncontrado.description=i),required:"",class:"w-[95%] h-[80px] focus:border-[#FFB984] focus:border-[1.5px] border-[1px] outline-none pl-[5px] box-border rounded-md mb-[20px] border-[#9F9F9F] ml-[2.5%]",type:"text",placeholder:"Description"},null,512),[[p,n.clienteEncontrado.description]]),d(e("input",{"onUpdate:modelValue":t[6]||(t[6]=i=>n.clienteEncontrado.deuda=i),class:"w-[95%] h-[55px] focus:border-[#FFB984] focus:border-[1.5px] border-[1px] outline-none pl-[5px] box-border rounded-md mb-[20px] border-[#9F9F9F] ml-[2.5%]",type:"text",placeholder:"Deuda"},null,512),[[p,n.clienteEncontrado.deuda]]),e("button",{onClick:t[7]||(t[7]=(...i)=>a.editar_cliente&&a.editar_cliente(...i)),class:"w-full h-[80px] mt-[5px] text-[1.5rem] bg-[#FFB984] text-white"}," Guardar ")],32)])}const Te=m(qe,[["render",Me]]),je={props:["id_cliente_operacione"],mounted(){this.buscar_cliente_id()},data(){return{clienteEncontrado:[],datos_registro_abono:{fecha_abono:"",id_cliente:"",monto_abonado:"",comentario:"",nueva_deuda:0}}},methods:{cerrar_modal_abono_deuda_cliente(){r.emit("cerrar_modal_abono_deuda_cliente")},buscar_cliente_id(){r.emit("abrir_loader_carga_vista_cliente"),u.get(`https://api-sistema-facturacion-c521f94ffcfb.herokuapp.com/buscar-cliente/${this.id_cliente_operacione}`).then(o=>{this.clienteEncontrado=o.data}).catch(o=>{console.error("Error al buscar el cliente",o),this.clienteEncontrado=[]}).finally(()=>{r.emit("cerrar_loader_carga_vista_cliente")})},registrar_abono_deuda_cliente(){this.clienteEncontrado.deuda==""?alert("este cliente no tiene deudas actualmente"):this.datos_registro_abono.monto_abonado>this.clienteEncontrado.deuda?alert("el monto es mayor a la deuda ingrese un monto menor o igual"):(r.emit("abrir_loader_carga_vista_cliente"),this.datos_registro_abono.id_cliente=this.clienteEncontrado.id_cliente,this.datos_registro_abono.fecha_abono=this.convertir_formato_hora_actual(),this.datos_registro_abono.nueva_deuda=this.clienteEncontrado.deuda-this.datos_registro_abono.monto_abonado,console.log(this.datos_registro_abono),u.post("https://api-sistema-facturacion-c521f94ffcfb.herokuapp.com/registrar-abono-cliente",this.datos_registro_abono).then(o=>{f.success("se registro el abono de la deuda !",{autoClose:3e3,backgroundColor:"#CC0B09",close:!1,color:"#ffffff"}),console.log("Abono registrado con Ã©xito",o.data),r.emit("cerrar_loader_carga_vista_cliente")}).catch(o=>{console.error("Error al registrar el abono",o),f.success("error al registrar el abono de la deuda !",{autoClose:3e3,backgroundColor:"#CC0B09",close:!1,color:"#ffffff"})}).finally(()=>{r.emit("cerrar_modal_abono_deuda_cliente"),r.emit("actualizar_objetos_cliente_vista_cliente")}))},convertir_formato_hora_actual(){const o=new Date,l=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"][o.getMonth()],c=o.getDate(),n=o.getFullYear(),a=o.getHours(),i=o.getMinutes(),h=a>=12?"pm":"am",E=a%12||12;return`${l} ${c} ${n} - ${E}:${i} ${h}`}}},He={class:"w-full h-[100vh] bg-[#444d639c] fixed z-50"},Le={class:"w-full h-[510px] bg-white mt-[70%]"},Se={class:"w-full p-3 inline-flex border-b-[1.5px] border-b-[#DFDFDF]"},Pe=e("h2",{class:"text-[1.7rem] ml-[30px] order-2"},"Registrar abono ",-1),Ie={class:"p-2"},Ne={class:"p-2 w-full h-[100px] justify-center items-center rounded flex shadow-md shadow-[#0000001f]"},Ge=e("img",{class:"order-1 w-[60px] h-[60px] mr-[30px]",src:R,alt:"",srcset:""},null,-1),Ye={class:"order-2"},Je={class:"text-[#9F9F9F]"},Ke={class:"text-[#E55226]"},Qe=e("button",{class:"w-[90%] ml-[5%] mt-[30px] text-[1.2rem] h-[60px] rounded text-white bg-[#FFB984]"},"Guardar abono",-1);function We(o,t,l,c,n,a){return s(),_("section",He,[e("div",Le,[e("header",Se,[e("img",{onClick:t[0]||(t[0]=(...i)=>a.cerrar_modal_abono_deuda_cliente&&a.cerrar_modal_abono_deuda_cliente(...i)),class:"w-[35px] mr-[25px] order-1 cursor-pointer",src:F}),Pe]),e("div",Ie,[e("div",Ne,[Ge,e("div",Ye,[e("h3",null,x(n.clienteEncontrado.nombre_cliente),1),e("h3",Je,[y("Total de la deuda: "),e("span",Ke,x(n.clienteEncontrado.deuda),1)])])]),e("form",{onSubmit:t[3]||(t[3]=A((...i)=>a.registrar_abono_deuda_cliente&&a.registrar_abono_deuda_cliente(...i),["prevent"]))},[d(e("input",{"onUpdate:modelValue":t[1]||(t[1]=i=>this.datos_registro_abono.monto_abonado=i),required:"",class:"w-[90%] ml-[5%] h-[70px] pl-2 mt-[30px] focus:border-[#FFB984] outline-none border-2 rounded",type:"number",placeholder:"Ingrese el monto abonado aqui...",name:"",id:""},null,512),[[p,this.datos_registro_abono.monto_abonado]]),d(e("input",{"onUpdate:modelValue":t[2]||(t[2]=i=>this.datos_registro_abono.comentario=i),class:"w-[90%] ml-[5%] h-[70px] pl-2 mt-[30px] focus:border-[#FFB984] outline-none border-2 rounded",type:"text",placeholder:"Ingrese un comentario",name:"",id:""},null,512),[[p,this.datos_registro_abono.comentario]]),Qe],32)])])])}const Xe=m(je,[["render",We]]),Ze={data(){return{cliente:{nombre:"",direccion:"",contacto:"",tipo_cliente:"",description:"",deuda:""}}},methods:{cerrar_modal_registrar_cliente(){r.emit("cerrar_modal_registrar_cliente")},registrar_cliente(){r.emit("abrir_loader_carga_vista_cliente"),u.post("https://api-sistema-facturacion-c521f94ffcfb.herokuapp.com/registrar-cliente",this.cliente).then(o=>{console.log(o.data),f.success("se registro el cliente!",{autoClose:3e3,backgroundColor:"#CC0B09",close:!1,color:"#ffffff"}),r.emit("cerrar_modal_registrar_cliente"),r.emit("cerrar_loader_carga_vista_cliente"),r.emit("actualizar_objetos_cliente_vista_cliente"),this.cliente.nombre="",this.cliente.contacto="",this.cliente.description="",this.cliente.deuda="",this.cliente.direccion="",this.cliente.tipo_cliente=""}).catch(o=>{console.error(o),f.error("ocurrio un error al registrar el cliente !",{autoClose:3e3,backgroundColor:"#CC0B09",close:!1,color:"#ffffff"})}).finally(()=>{r.emit("cerrar_modal_registrar_cliente")})}}},eo={class:"w-full h-[100vh] bg-white fixed z-50"},oo={class:"w-full p-3 inline-flex border-b-[1.5px] border-b-[#DFDFDF]"},to=e("h2",{class:"text-[1.7rem] ml-[30px] order-2"},"Registrar cliente",-1),io=e("button",{type:"submit",class:"w-full h-[80px] mt-[5px] text-[1.5rem] bg-[#FFB984] text-white"}," Guardar ",-1);function ro(o,t,l,c,n,a){return s(),_("section",eo,[e("header",oo,[e("img",{onClick:t[0]||(t[0]=(...i)=>a.cerrar_modal_registrar_cliente&&a.cerrar_modal_registrar_cliente(...i)),class:"w-[35px] mr-[25px] order-1 cursor-pointer",src:F}),to]),e("form",{onSubmit:t[7]||(t[7]=A((...i)=>a.registrar_cliente&&a.registrar_cliente(...i),["prevent"])),class:"w-full p-3 mt-[10px]"},[d(e("input",{"onUpdate:modelValue":t[1]||(t[1]=i=>n.cliente.nombre=i),required:"",class:"w-[95%] focus:border-[#FFB984] focus:border-[1.5px] h-[55px] border-[1px] outline-none pl-[5px] box-border rounded-md mb-[20px] border-[#9F9F9F] ml-[2.5%]",type:"text",placeholder:"Nombre del cliente"},null,512),[[p,n.cliente.nombre]]),d(e("input",{"onUpdate:modelValue":t[2]||(t[2]=i=>n.cliente.direccion=i),class:"w-[95%] h-[55px] focus:border-[#FFB984] focus:border-[1.5px] border-[1px] outline-none pl-[5px] box-border rounded-md mb-[20px] border-[#9F9F9F] ml-[2.5%]",type:"text",placeholder:"Direccion"},null,512),[[p,n.cliente.direccion]]),d(e("input",{"onUpdate:modelValue":t[3]||(t[3]=i=>n.cliente.contacto=i),class:"w-[95%] h-[55px] focus:border-[#FFB984] focus:border-[1.5px] border-[1px] outline-none pl-[5px] box-border rounded-md mb-[20px] border-[#9F9F9F] ml-[2.5%]",type:"tel",placeholder:"Contacto"},null,512),[[p,n.cliente.contacto]]),d(e("input",{"onUpdate:modelValue":t[4]||(t[4]=i=>n.cliente.tipo_cliente=i),class:"w-[95%] h-[55px] focus:border-[#FFB984] focus:border-[1.5px] border-[1px] outline-none pl-[5px] box-border rounded-md mb-[20px] border-[#9F9F9F] ml-[2.5%]",type:"text",placeholder:"Tipo de cliente"},null,512),[[p,n.cliente.tipo_cliente]]),d(e("input",{"onUpdate:modelValue":t[5]||(t[5]=i=>n.cliente.description=i),required:"",class:"w-[95%] h-[80px] focus:border-[#FFB984] focus:border-[1.5px] border-[1px] outline-none pl-[5px] box-border rounded-md mb-[20px] border-[#9F9F9F] ml-[2.5%]",type:"text",placeholder:"Description"},null,512),[[p,n.cliente.description]]),d(e("input",{"onUpdate:modelValue":t[6]||(t[6]=i=>n.cliente.deuda=i),class:"w-[95%] h-[55px] focus:border-[#FFB984] focus:border-[1.5px] border-[1px] outline-none pl-[5px] box-border rounded-md mb-[20px] border-[#9F9F9F] ml-[2.5%]",type:"number",placeholder:"Deuda"},null,512),[[p,n.cliente.deuda]]),io],32)])}const no=m(Ze,[["render",ro]]),ao={props:["datosBusquedaCliente","termino_busqueda_cliente"],components:{"card-cliente":z},data(){return{}},methods:{cerrar_modal_busquedad_cliente(){r.emit("cerrar_modal_busqueda_cliente")}}},so={class:"w-full h-[100vh] bg-[#444d639c] fixed z-40"},lo={class:"w-full h-[610px] bg-white mt-[45%]"},co={class:"w-full p-3 inline-flex border-b-[1.5px] border-b-[#DFDFDF]"},_o=e("h2",{class:"text-[1.7rem] ml-[5px] order-2"},"Resultado busqueda",-1),bo={class:"pt-3 w-full"},uo={class:"text-center"},po={class:"text-[#9F9F9F]"},mo={class:"p-2 mt-[40px] w-full pt-2 bg-[#eeeef1]"},ho=e("h3",{class:"text-[1.3rem]"},"Clientes encontrados:",-1),fo={class:"w-full pt-2 h-[400px] overflow-hidden overflow-y-scroll"};function xo(o,t,l,c,n,a){const i=b("card-cliente");return s(),_("section",so,[e("div",lo,[e("header",co,[e("img",{onClick:t[0]||(t[0]=(...h)=>a.cerrar_modal_busquedad_cliente&&a.cerrar_modal_busquedad_cliente(...h)),class:"w-[35px] mr-[25px] order-1 cursor-pointer",src:F}),_o]),e("div",bo,[e("h3",uo,[y("Termino buscado: "),e("span",po,x(l.termino_busqueda_cliente),1)]),e("div",mo,[ho,e("div",fo,[(s(!0),_(B,null,O(l.datosBusquedaCliente,h=>(s(),_("div",{class:"inline-block",key:h.id_cliente},[g(i,{cliente:h},null,8,["cliente"])]))),128))])])])])])}const go=m(ao,[["render",xo]]),vo={props:["idRegistroAbono"],methods:{abrir_ventana_eliminar_abono_cliente(){r.emit("abrir_eliminar_abono_cliente",this.idRegistroAbono)},abrir_editar_abono_cliente(){r.emit("abrir_editar_abono_cliente",this.idRegistroAbono)},abrir_detalle_abono_cliente(){r.emit("abrir_detalle_abono_cliente",this.idRegistroAbono)}}},Fo={class:"optiones_ventas overflow-hidden w-[140px] z-[2] h-[120px] bg-[#f7f8ff] flex-none absolute rounded shadow-md shadow-[#00000031] ml-[45%] mt-[20px]"},Co=e("button",null,[e("span",{class:"text-[1rem]"},"Ver mas"),e("img",{class:"w-[20px] ml-[70%] -mt-[23px] absolute",src:L})],-1),wo=[Co],Eo=e("button",null,[e("span",{class:"text-[1rem]"},"Editar"),e("img",{class:"w-[20px] ml-[70%] -mt-[23px] absolute",src:K})],-1),$o=[Eo],ko=e("button",{class:"outline-none"},[e("span",{class:"text-[1rem]"},"Anular"),e("img",{class:"w-[20px] absolute ml-[70%] -mt-[23px]",src:S})],-1),Do=[ko];function yo(o,t,l,c,n,a){return s(),_("div",Fo,[e("ul",null,[e("li",{onClick:t[0]||(t[0]=(...i)=>a.abrir_detalle_abono_cliente&&a.abrir_detalle_abono_cliente(...i)),class:"p-2 cursor-pointer border-b-[#DFDFDF] border-b-[2px]"},wo),e("li",{onClick:t[1]||(t[1]=(...i)=>a.abrir_editar_abono_cliente&&a.abrir_editar_abono_cliente(...i)),class:"p-2 cursor-pointer border-b-[#DFDFDF] border-b-[2px]"},$o),e("li",{onClick:t[2]||(t[2]=(...i)=>a.abrir_ventana_eliminar_abono_cliente&&a.abrir_ventana_eliminar_abono_cliente(...i)),class:"p-2 cursor-pointer border-b-[#DFDFDF] border-b-[2px]"},Do)])])}const Ao=m(vo,[["render",yo]]),Bo={props:["abono"],mounted(){r.on("cerrar-menu-optiones-abono-cliente",o=>{o!==this&&(this.visibilidadOptiones=!1)}),document.addEventListener("click",this.closeMenuOnClickOutside)},beforeUnmount(){document.removeEventListener("click",this.closeMenuOnClickOutside)},data(){return{visibilidadOptiones:!1,idRegistroAbono:this.abono.id_abono_deuda_del_cliente}},components:{"opciones-historial":Ao},methods:{abrir_y_cerrar_optiones_abonos(){this.visibilidadOptiones=!this.visibilidadOptiones,this.visibilidadOptiones&&r.emit("cerrar-menu-optiones-abono-cliente",this)},closeMenuOnClickOutside(o){this.$refs.menu&&!this.$refs.menu.contains(o.target)&&(this.visibilidadOptiones=!1)}}},Oo={class:"w-full h-[80px] mb-[20px] relative rounted p-2 rounded flex shadow-md shadow-[#0000001f]"},Ro={class:"order-1 flex-col text-center w-[180px] border-r-2 flex justify-center"},qo=e("h2",null,"Monto abonado",-1),zo={class:"text-[#FFB984] text-[0.9rem]"},Vo={class:"order-2 w-[180px] text-center flex-col flex justify-center"},Uo=e("h3",null,"Fecha del abono",-1),Mo={class:"text-[#FFB984] text-[0.9rem]"},To={class:"order-3 h-full w-[50px]"};function jo(o,t,l,c,n,a){const i=b("opciones-historial");return s(),_("div",Oo,[e("div",Ro,[qo,e("span",zo,x(l.abono.monto_abonado),1)]),e("div",Vo,[Uo,e("span",Mo,x(l.abono.fecha_abono),1)]),e("button",To,[e("img",{onClick:t[0]||(t[0]=(...h)=>a.abrir_y_cerrar_optiones_abonos&&a.abrir_y_cerrar_optiones_abonos(...h)),class:"w-[40px] h-[40px]",src:q,alt:"",srcset:""})]),n.visibilidadOptiones?(s(),v(i,{key:0,idRegistroAbono:n.idRegistroAbono,ref:"menu"},null,8,["idRegistroAbono"])):C("",!0)])}const Ho=m(Bo,[["render",jo]]),Lo={props:["id_abono_Operacion","clienteEncontrado"],mounted(){this.buscar_registro_abono()},data(){return{datosRegistroAbono:[]}},methods:{cerrar_ventana_eliminar_abono_cliente(){r.emit("cerrar_eliminar_abono_cliente")},async eliminar_abono_cliente(){r.emit("abrir_loader_carga_vista_cliente");const o=this.id_abono_Operacion,t=this.clienteEncontrado.id_cliente,l=this.clienteEncontrado.deuda+this.datosRegistroAbono.monto_abonado;try{const c=await u.delete(`https://api-sistema-facturacion-c521f94ffcfb.herokuapp.com/eliminar-abono-cliente/${o}`,{data:{idCliente:t,nuevaDeuda:l}});f.success("se elimino el registro del abono !",{autoClose:3e3,backgroundColor:"#CC0B09",close:!1,color:"#ffffff"}),console.log(c.data)}catch(c){f.error("ocurrio un error al eliminar el registro del abono !",{autoClose:3e3,backgroundColor:"#CC0B09",close:!1,color:"#ffffff"}),console.error("Error al enviar la solicitud DELETE:",c)}finally{r.emit("cerrar_eliminar_abono_cliente"),r.emit("cerrar_loader_carga_vista_cliente"),r.emit("actualizar_historial_abonos_clientes")}},buscar_registro_abono(){r.emit("abrir_loader_carga_vista_cliente"),u.get(`https://api-sistema-facturacion-c521f94ffcfb.herokuapp.com/abono-cliente/${this.id_abono_Operacion}`).then(o=>{this.datosRegistroAbono=o.data}).catch(o=>{console.error("Error al obtener el registro de abono por id",o)}).finally(()=>{r.emit("cerrar_loader_carga_vista_cliente")})}}},So={class:"w-full h-[100vh] bg-[#444d639c] fixed z-50"},Po={class:"w-[90%] ml-[5%] h-[300px] bg-white mt-[50%]"},Io={class:"w-full p-3 inline-flex border-b-[1.5px] border-b-[#DFDFDF]"},No=e("h2",{class:"text-[1.7rem] ml-[20px] order-2"},"Anular abono",-1),Go={class:"p-3"},Yo=e("h3",{class:"text-center text-[#9F9F9F]"},"Esta seguro que desea eliminar el registro de este abono de deuda?",-1);function Jo(o,t,l,c,n,a){return s(),_("section",So,[e("div",Po,[e("header",Io,[e("img",{onClick:t[0]||(t[0]=(...i)=>a.cerrar_ventana_eliminar_abono_cliente&&a.cerrar_ventana_eliminar_abono_cliente(...i)),class:"w-[35px] mr-[25px] order-1 cursor-pointer",src:F}),No]),e("div",Go,[Yo,e("button",{onClick:t[1]||(t[1]=(...i)=>a.eliminar_abono_cliente&&a.eliminar_abono_cliente(...i)),class:"w-[90%] ml-[5%] mt-[50px] text-[1.2rem] h-[60px] rounded text-white bg-[#CC0B09]"},"Eliminar")])])])}const Ko=m(Lo,[["render",Jo]]),Qo={props:["id_abono_Operacion","clienteEncontrado"],mounted(){this.buscar_registro_abono()},data(){return{datosCliente:this.clienteEncontrado,datosRegistroAbono:[],montoOriginal:0,datosEditados:{nuevo_monto_abonado:"",comentario:"",deuda_nueva:"",id_cliente:this.clienteEncontrado.id_cliente}}},methods:{cerrar_editar_abono_cliente(){r.emit("cerrar_editar_abono_cliente")},buscar_registro_abono(){r.emit("abrir_loader_carga_vista_cliente"),u.get(`https://api-sistema-facturacion-c521f94ffcfb.herokuapp.com/abono-cliente/${this.id_abono_Operacion}`).then(o=>{this.datosRegistroAbono=o.data,this.montoOriginal=this.datosRegistroAbono.monto_abonado}).catch(o=>{console.error("Error al obtener el registro de abono por id",o)}).finally(()=>{r.emit("cerrar_loader_carga_vista_cliente")})},registrar_abono_editado_deuda_cliente(){this.datosEditados.nuevo_monto_abonado>this.datosCliente.deuda?f.error("ingrese un monto igual o menor a la deuda actual !",{autoClose:3e3,backgroundColor:"#CC0B09",close:!1,color:"#ffffff"}):(r.emit("abrir_loader_carga_vista_cliente"),this.datosEditados.comentario=this.datosRegistroAbono.comentario,this.datosEditados.nuevo_monto_abonado=this.datosRegistroAbono.monto_abonado,this.datosEditados.deuda_nueva=this.evaluar_monto_deuda_cliente(),u.put(`https://api-sistema-facturacion-c521f94ffcfb.herokuapp.com/editar-abono-cliente/${this.id_abono_Operacion}`,this.datosEditados).then(o=>{console.log(o.data.message),f.success("se edito el registro del abono de la deuda!",{autoClose:3e3,backgroundColor:"#CC0B09",close:!1,color:"#ffffff"})}).catch(o=>{console.error("Error al actualizar el abono y la deuda:",o.response.data.error),f.error("error al editar el abono de la deuda !",{autoClose:3e3,backgroundColor:"#CC0B09",close:!1,color:"#ffffff"})}).finally(()=>{r.emit("cerrar_loader_carga_vista_cliente"),r.emit("cerrar_editar_abono_cliente"),r.emit("actualizar_historial_abonos_clientes")}))},evaluar_monto_deuda_cliente(){let o=0;if(this.datosEditados.nuevo_monto_abonado>this.montoOriginal){const t=this.montoOriginal-this.datosRegistroAbono.monto_abonado;o=this.datosCliente.deuda+t}else if(this.datosEditados.nuevo_monto_abonado<this.montoOriginal){const t=this.datosRegistroAbono.monto_abonado-this.montoOriginal;o=this.datosCliente.deuda-t}else this.datosEditados.nuevo_monto_abonado==this.montoOriginal&&(o=this.datosCliente.deuda);return o}}},Wo={class:"w-full h-[100vh] bg-white fixed z-50"},Xo={class:"w-full p-3 inline-flex border-b-[1.5px] border-b-[#DFDFDF]"},Zo=e("h2",{class:"text-[1.7rem] ml-[40px] order-2"},"Editar abono",-1),et=e("button",{class:"w-full h-[80px] mt-[5px] text-[1.5rem] bg-[#FFB984] text-white"}," Guardar cambios ",-1);function ot(o,t,l,c,n,a){return s(),_("section",Wo,[e("header",Xo,[e("img",{onClick:t[0]||(t[0]=(...i)=>a.cerrar_editar_abono_cliente&&a.cerrar_editar_abono_cliente(...i)),class:"w-[35px] mr-[25px] order-1 cursor-pointer",src:F}),Zo]),e("form",{onSubmit:t[3]||(t[3]=A((...i)=>a.registrar_abono_editado_deuda_cliente&&a.registrar_abono_editado_deuda_cliente(...i),["prevent"])),class:"p-2 mt-[100px]"},[d(e("input",{id:"abono",required:"","onUpdate:modelValue":t[1]||(t[1]=i=>n.datosRegistroAbono.monto_abonado=i),class:"w-[95%] h-[55px] focus:border-[#FFB984] focus:border-[1.5px] border-[1px] outline-none pl-[5px] box-border rounded-md mb-[20px] border-[#9F9F9F] ml-[2.5%]",type:"number",placeholder:"Monto abonado"},null,512),[[p,n.datosRegistroAbono.monto_abonado]]),d(e("input",{"onUpdate:modelValue":t[2]||(t[2]=i=>n.datosRegistroAbono.comentario=i),class:"w-[95%] h-[100px] focus:border-[#FFB984] focus:border-[1.5px] border-[1px] outline-none pl-[5px] box-border rounded-md mb-[20px] border-[#9F9F9F] ml-[2.5%]",type:"text",placeholder:"Comentario"},null,512),[[p,n.datosRegistroAbono.comentario]]),et],32)])}const tt=m(Qo,[["render",ot]]),it={props:["id_abono_Operacion"],mounted(){this.buscar_registro_abono()},data(){return{datosRegistroAbono:[]}},methods:{cerrar_detalle_abono_cliente(){r.emit("cerrar_detalle_abono_cliente")},buscar_registro_abono(){r.emit("abrir_loader_carga_vista_cliente"),u.get(`https://api-sistema-facturacion-c521f94ffcfb.herokuapp.com/abono-cliente/${this.id_abono_Operacion}`).then(o=>{this.datosRegistroAbono=o.data}).catch(o=>{console.error("Error al obtener el registro de abono por id",o)}).finally(()=>{r.emit("cerrar_loader_carga_vista_cliente")})}}},rt={class:"w-full h-[100vh] bg-[#444d639c] fixed z-50"},nt={class:"w-full h-[550px] bg-white mt-[60%]"},at={class:"w-full p-3 inline-flex border-b-[1.5px] border-b-[#DFDFDF]"},st=e("h2",{class:"text-[1.7rem] ml-[20px] order-2"},"Detalles del abono ",-1),lt={class:"p-2 mt-[30px]"},ct=e("h3",{class:"text-[1.3rem] mb-[10px]"},"Monto abonado",-1),dt={class:"text-[#9F9F9F]"},_t=e("br",null,null,-1),bt=e("br",null,null,-1),ut=e("h3",{class:"text-[1.3rem] mb-[10px]"},"Fecha del abono",-1),pt={class:"text-[#9F9F9F]"},mt=e("br",null,null,-1),ht=e("br",null,null,-1),ft=e("h3",{class:"text-[1.3rem] mb-[10px]"},"Comentario",-1),xt={class:"text-[#9F9F9F]"};function gt(o,t,l,c,n,a){return s(),_("section",rt,[e("div",nt,[e("header",at,[e("img",{onClick:t[0]||(t[0]=(...i)=>a.cerrar_detalle_abono_cliente&&a.cerrar_detalle_abono_cliente(...i)),class:"w-[35px] mr-[25px] order-1 cursor-pointer",src:F}),st]),e("div",lt,[ct,e("span",dt,x(n.datosRegistroAbono.monto_abonado),1),_t,bt,ut,e("span",pt,x(n.datosRegistroAbono.fecha_abono),1),mt,ht,ft,e("p",xt,x(n.datosRegistroAbono.Comentario),1)])])])}const vt=m(it,[["render",gt]]),Ft={props:["id_cliente_operacione"],mounted(){this.buscar_cliente_id(),this.buscar_historial_abono_cliente(),r.on("actualizar_historial_abonos_clientes",()=>{this.buscar_cliente_id(),this.buscar_historial_abono_cliente()}),r.on("abrir_eliminar_abono_cliente",o=>{this.id_abono_Operacion=o,this.visibilidad_eliminar_abono_cliente=!0}),r.on("cerrar_eliminar_abono_cliente",()=>{this.visibilidad_eliminar_abono_cliente=!1}),r.on("cerrar_editar_abono_cliente",()=>{this.visibilidad_editar_abono_cliente=!1,this.actualizar()}),r.on("abrir_editar_abono_cliente",o=>{this.id_abono_Operacion=o,this.visibilidad_editar_abono_cliente=!0}),r.on("cerrar_detalle_abono_cliente",()=>{this.visibilidad_detalle_abono_cliente=!1}),r.on("abrir_detalle_abono_cliente",o=>{this.id_abono_Operacion=o,this.visibilidad_detalle_abono_cliente=!0})},data(){return{clienteEncontrado:[],historialAbonosDelCliente:[],id_abono_Operacion:"",visibilidad_eliminar_abono_cliente:!1,visibilidad_editar_abono_cliente:!1,visibilidad_detalle_abono_cliente:!1}},components:{card_hist_abono_cliente:Ho,EliminarAbonoCliente:Ko,EditarAbonoCliente:tt,DetalleAbonoCliente:vt},methods:{buscar_cliente_id(){r.emit("abrir_loader_carga_vista_cliente"),u.get(`https://api-sistema-facturacion-c521f94ffcfb.herokuapp.com/buscar-cliente/${this.id_cliente_operacione}`).then(o=>{this.clienteEncontrado=o.data}).catch(o=>{console.error("Error al buscar el cliente",o),this.clienteEncontrado=[]}).finally(()=>{r.emit("cerrar_loader_carga_vista_cliente")})},buscar_historial_abono_cliente(){r.emit("abrir_loader_carga_vista_cliente"),u.get(`https://api-sistema-facturacion-c521f94ffcfb.herokuapp.com/abonos-por-cliente/${this.id_cliente_operacione}`).then(o=>{this.historialAbonosDelCliente=o.data,console.log(o.data)}).catch(o=>{console.error("Error al buscar el cliente",o),this.historialAbonosDelCliente=[]}).finally(()=>{r.emit("cerrar_loader_carga_vista_cliente")})},cerrar_modal_historial_abono_cliente(){r.emit("cerrar_historial_abono_cliente"),r.emit("actualizar_objetos_cliente_vista_cliente")},actualizar(){r.emit("abrir_loader_carga_vista_cliente"),u.get(`https://api-sistema-facturacion-c521f94ffcfb.herokuapp.com/abonos-por-cliente/${this.id_cliente_operacione}`).then(o=>{this.historialAbonosDelCliente=o.data}).catch(o=>{console.error("Error al buscar el cliente",o),this.historialAbonosDelCliente=[]}),u.get(`https://api-sistema-facturacion-c521f94ffcfb.herokuapp.com/buscar-cliente/${this.id_cliente_operacione}`).then(o=>{this.clienteEncontrado=o.data}).catch(o=>{console.error("Error al buscar el cliente",o),this.clienteEncontrado=[]}),r.emit("cerrar_loader_carga_vista_cliente")}}},Ct={class:"w-full h-[100vh] bg-white fixed z-50"},wt={class:"w-full p-3 inline-flex border-b-[1.5px] border-b-[#DFDFDF]"},Et=e("h2",{class:"text-[1.7rem] ml-[15px] order-2"},"Historial de abonos ",-1),$t={class:"p-2 pt-[20px]"},kt=e("h3",{class:"text-[1.3rem] mb-[10px]"},"Cliente",-1),Dt={class:"p-2 w-full h-[100px] justify-center items-center rounded flex shadow-md shadow-[#0000001f]"},yt=e("img",{class:"order-1 w-[60px] h-[60px] mr-[30px]",src:R,alt:"",srcset:""},null,-1),At={class:"order-2"},Bt={class:"text-[#9F9F9F]"},Ot={class:"text-[#E55226]"},Rt={class:"p-2"},qt=e("h3",{class:"text-[1.3rem] mb-[10px]"},"Historial de abonos",-1),zt={class:"w-full h-[450px] pb-[40px] p-1 overflow-hidden overflow-y-scroll"};function Vt(o,t,l,c,n,a){const i=b("DetalleAbonoCliente"),h=b("EditarAbonoCliente"),E=b("EliminarAbonoCliente"),$=b("card_hist_abono_cliente");return s(),_("section",Ct,[n.visibilidad_detalle_abono_cliente?(s(),v(i,{key:0,id_abono_Operacion:n.id_abono_Operacion},null,8,["id_abono_Operacion"])):C("",!0),n.visibilidad_editar_abono_cliente?(s(),v(h,{key:1,clienteEncontrado:n.clienteEncontrado,id_abono_Operacion:n.id_abono_Operacion},null,8,["clienteEncontrado","id_abono_Operacion"])):C("",!0),n.visibilidad_eliminar_abono_cliente?(s(),v(E,{key:2,clienteEncontrado:n.clienteEncontrado,id_abono_Operacion:n.id_abono_Operacion},null,8,["clienteEncontrado","id_abono_Operacion"])):C("",!0),e("header",wt,[e("img",{onClick:t[0]||(t[0]=(...w)=>a.cerrar_modal_historial_abono_cliente&&a.cerrar_modal_historial_abono_cliente(...w)),class:"w-[35px] mr-[25px] order-1 cursor-pointer",src:F}),Et]),e("div",$t,[kt,e("div",Dt,[yt,e("div",At,[e("h3",null,x(n.clienteEncontrado.nombre_cliente),1),e("h3",Bt,[y("Total de la deuda: "),e("span",Ot,x(n.clienteEncontrado.deuda),1)])])])]),e("div",Rt,[qt,e("div",zt,[(s(!0),_(B,null,O(n.historialAbonosDelCliente,w=>(s(),_("div",{key:w.id_abono_deuda_del_cliente},[g($,{abono:w},null,8,["abono"])]))),128))])])])}const Ut=m(Ft,[["render",Vt]]),Mt={mounted(){this.$socket.on("actualizacion_registro_cliente",()=>{f.success("actualizando el registro luego de modificacion!"),this.optener_clientes()}),r.on("abrir_loader_carga_vista_cliente",()=>{this.estado_activacion_loader_Carga=!0}),r.on("cerrar_loader_carga_vista_cliente",()=>{this.estado_activacion_loader_Carga=!1}),r.on("cerrar_modal_busqueda_cliente",()=>{this.estado_visibilidad_buscar_cliente=!1}),r.on("actualizar_objetos_cliente_vista_cliente",()=>{this.estado_activacion_loader_Carga=!0,u.get("https://api-sistema-facturacion-c521f94ffcfb.herokuapp.com/obtener-clientes").then(o=>{let t=o.data;this.dataCliente=t}).catch(o=>{console.error("Error al obtener la lista de clientes",o)}).finally(()=>{this.sumarDeuda(this.dataCliente),this.estado_activacion_loader_Carga=!1})}),this.optener_clientes(),r.on("cerrar_modal_registrar_cliente",()=>{this.estado_visibilidad_registrar_cliente=!1}),r.on("abrir_modal_abono_deuda_cliente",o=>{this.id_cliente_operacione=o,this.estado_visibilidad_abono_deuda_cliente=!0}),r.on("cerrar_modal_abono_deuda_cliente",()=>{this.estado_visibilidad_abono_deuda_cliente=!1}),r.on("abrir_modal_editar_cliente",o=>{this.id_cliente_operacione=o,this.estado_visibilidad_editar_cliente=!0}),r.on("cerrar_modal_editar_cliente",()=>{this.estado_visibilidad_editar_cliente=!1}),r.on("abrir_modal_eliminar_cliente",o=>{this.id_cliente_operacione=o,this.estado_visisbilidad_eliminar_cliente=!0}),r.on("cerrar_eliminar_cliente",()=>{this.estado_visisbilidad_eliminar_cliente=!1}),r.on("abrir_modal_historial_deuda_cliente",o=>{this.id_cliente_operacione=o,this.estado_visibilidad_historial_abonos=!0}),r.on("cerrar_historial_abono_cliente",()=>{this.estado_visibilidad_historial_abonos=!1})},components:{"menu-header":P,"menu-footer":I,"btn-registrar-clients":ie,"card-cliente":z,"eliminar-cliente":Re,"editar-cliente":Te,"abonar-deuda-cliente":Xe,"form-crear-cliente":no,"buscar-cliente":go,"carga-loader":J,"historial-abonos":Ut},data(){return{title:"Clientes",estado_visisbilidad_eliminar_cliente:!1,estado_visibilidad_editar_cliente:!1,estado_visibilidad_abono_deuda_cliente:!1,estado_visibilidad_registrar_cliente:!1,estado_visibilidad_buscar_cliente:!1,estado_visibilidad_historial_abonos:!1,estado_activacion_loader_Carga:!1,dataCliente:[],deudasPorCobrar:0,datosBusquedaCliente:[],termino_busqueda_cliente:"",id_cliente_operacione:0}},methods:{abrir_modal_registro_cliente(){this.estado_visibilidad_registrar_cliente=!0},buscar_cliente(){const o=document.getElementById("buscar_clientes");o.value==""?alert("ingrese los datos del cliente a buscar"):(this.estado_activacion_loader_Carga=!0,u.get("https://api-sistema-facturacion-c521f94ffcfb.herokuapp.com/buscar-clientes-por-nombre",{params:{nombre:o.value}}).then(t=>{this.datosBusquedaCliente=t.data,this.termino_busqueda_cliente=o.value,this.estado_visibilidad_buscar_cliente=!0,o.value=""}).catch(t=>{alert("ocurrio un error al buscar el cliente vuelva a intentarlo"),console.error("Error al buscar clientes",t)}).finally(()=>{this.estado_activacion_loader_Carga=!1}))},optener_clientes(){this.estado_activacion_loader_Carga=!0,u.get("https://api-sistema-facturacion-c521f94ffcfb.herokuapp.com/obtener-clientes").then(o=>{let t=o.data;this.dataCliente=t}).catch(o=>{console.error("Error al obtener la lista de clientes",o)}).finally(()=>{this.estado_activacion_loader_Carga=!1,this.sumarDeuda(this.dataCliente)})},sumarDeuda(o){let t=0;for(let l in o)if(o.hasOwnProperty(l)){let c=o[l];c.hasOwnProperty("deuda")&&(t+=c.deuda)}this.deudasPorCobrar=t}}},Tt={class:"w-full h-[100%] mb-[200px] bg-[#FEFEE5]"},jt={class:"p-3 w-[95%] ml-[2.5%] h-[80px] rounded shadow-md shadow-[#00000031] mb-[20px] bg-[#FF7850]"},Ht=e("span",{class:"text-[#F9F9F9]"},"Total por cobrar",-1),Lt={class:"text-[1.6rem] text-white font-bold"},St=e("img",{src:""},null,-1),Pt={class:"p-3 w-full"},It=e("input",{id:"buscar_clientes",class:"w-[100%] h-[60px] rounded outline-0 pl-2 shadow-md shadow-[#0000001f] placeholder:text-[0.8rem] placeholder:italic",type:"text",placeholder:"Buscar cliente por nombre..."},null,-1),Nt={class:"w-full p-2"},Gt=e("h2",{class:"text-[2rem] mt-[10px] mb-[30px]"},"Clientes",-1),Yt={class:"w-full pl-[5px] p-2 pb-[200px] inline-block"};function Jt(o,t,l,c,n,a){const i=b("menu-footer"),h=b("carga-loader"),E=b("historial-abonos"),$=b("buscar-cliente"),w=b("form-crear-cliente"),V=b("abonar-deuda-cliente"),U=b("editar-cliente"),M=b("eliminar-cliente"),T=b("btn-registrar-clients"),j=b("menu-header"),H=b("card-cliente");return s(),v(Y,{name:"fade"},{default:G(()=>[e("section",Tt,[g(i),n.estado_activacion_loader_Carga?(s(),v(h,{key:0,id_cliente_operacione:n.id_cliente_operacione},null,8,["id_cliente_operacione"])):C("",!0),n.estado_visibilidad_historial_abonos?(s(),v(E,{key:1,id_cliente_operacione:n.id_cliente_operacione},null,8,["id_cliente_operacione"])):C("",!0),d(g($,{termino_busqueda_cliente:n.termino_busqueda_cliente,datosBusquedaCliente:n.datosBusquedaCliente},null,8,["termino_busqueda_cliente","datosBusquedaCliente"]),[[D,n.estado_visibilidad_buscar_cliente]]),d(g(w,null,null,512),[[D,n.estado_visibilidad_registrar_cliente]]),n.estado_visibilidad_abono_deuda_cliente?(s(),v(V,{key:2,id_cliente_operacione:n.id_cliente_operacione},null,8,["id_cliente_operacione"])):C("",!0),n.estado_visibilidad_editar_cliente?(s(),v(U,{key:3,id_cliente_operacione:n.id_cliente_operacione},null,8,["id_cliente_operacione"])):C("",!0),d(g(M,{id_cliente_operacione:n.id_cliente_operacione},null,8,["id_cliente_operacione"]),[[D,n.estado_visisbilidad_eliminar_cliente]]),g(T,{onClick:a.abrir_modal_registro_cliente},null,8,["onClick"]),g(j,{nameSession:n.title},null,8,["nameSession"]),e("div",jt,[Ht,e("h3",Lt,x(n.deudasPorCobrar),1),St]),e("div",Pt,[It,e("img",{onClick:t[0]||(t[0]=(...k)=>a.buscar_cliente&&a.buscar_cliente(...k)),class:"w-[40px] -mt-[50px] cursor-pointer border-l-[2px] border-[#DFDFDF] ml-[80%] absolute",src:Q})]),e("article",Nt,[Gt,e("div",Yt,[(s(!0),_(B,null,O(n.dataCliente,k=>(s(),_("div",{class:"inline-block",key:k.id_cliente},[g(H,{cliente:k},null,8,["cliente"])]))),128))])])])]),_:1})}const ti=m(Mt,[["render",Jt]]);export{ti as default};
